# æŠ€è¡“é¸å‹è©³ç´°æŒ‡å—
# Vue3 + Supabase é‡æ§‹å°ˆæ¡ˆ

**æ–‡ä»¶ç‰ˆæœ¬**: 1.0
**å»ºç«‹æ—¥æœŸ**: 2025-11-05

---

## ç›®éŒ„

1. [UI æ¡†æ¶é¸å‹](#1-ui-æ¡†æ¶é¸å‹)
2. [éƒ¨ç½²å¹³å°é¸å‹](#2-éƒ¨ç½²å¹³å°é¸å‹)
3. [åœ–è¡¨åº«é¸å‹](#3-åœ–è¡¨åº«é¸å‹)
4. [TypeScript ä½¿ç”¨å»ºè­°](#4-typescript-ä½¿ç”¨å»ºè­°)
5. [é›™å‘è¨Šæ¯æ”¶é›†æ–¹æ¡ˆ](#5-é›™å‘è¨Šæ¯æ”¶é›†æ–¹æ¡ˆ)
6. [å…¶ä»–æŠ€è¡“æ±ºç­–](#6-å…¶ä»–æŠ€è¡“æ±ºç­–)

---

## 1. UI æ¡†æ¶é¸å‹

### é¸é …æ¯”è¼ƒ

| ç‰¹æ€§ | Element Plus | Ant Design Vue | Naive UI | Vuetify |
|-----|--------------|----------------|----------|---------|
| **å…ƒä»¶æ•¸é‡** | 60+ | 60+ | 80+ | 80+ |
| **æª”æ¡ˆå¤§å°** | ~500KB | ~600KB | ~300KB | ~700KB |
| **ä¸­æ–‡æ–‡ä»¶** | â­â­â­â­â­ | â­â­â­â­â­ | â­â­â­â­ | â­â­â­ |
| **ç¹é«”ä¸­æ–‡æ”¯æ´** | âœ… å®Œæ•´ | âœ… å®Œæ•´ | âœ… å®Œæ•´ | âœ… å®Œæ•´ |
| **è¨­è¨ˆé¢¨æ ¼** | ç°¡ç´„å°ˆæ¥­ | ç¾ä»£å•†å‹™ | è¼•é‡ç¾ä»£ | Material Design |
| **æ•ˆèƒ½** | â­â­â­â­ | â­â­â­â­ | â­â­â­â­â­ | â­â­â­ |
| **TypeScript** | âœ… å„ªç§€ | âœ… å„ªç§€ | âœ… å„ªç§€ | âœ… è‰¯å¥½ |
| **ç¤¾ç¾¤æ´»èºåº¦** | ğŸ”¥ éå¸¸é«˜ | ğŸ”¥ éå¸¸é«˜ | ğŸ”¥ é«˜ | ğŸ”¥ é«˜ |
| **ä¼æ¥­æ‡‰ç”¨** | âœ… é©åˆ | âœ… éå¸¸é©åˆ | âš ï¸ è¼ƒè¼•é‡ | âœ… é©åˆ |
| **å­¸ç¿’æ›²ç·š** | å¹³ç·© | å¹³ç·© | å¹³ç·© | ç¨é™¡ |
| **å®¢è£½åŒ–** | â­â­â­â­ | â­â­â­â­â­ | â­â­â­â­ | â­â­â­ |

### 1.1 Element Plusï¼ˆæ¨è–¦ï¼‰â­

**å®˜ç¶²**ï¼šhttps://element-plus.org/zh-CN/

#### å„ªé» âœ…

1. **å®Œæ•´çš„å…ƒä»¶åº«**
   - 60+ å€‹å…ƒä»¶ï¼Œæ¶µè“‹æ‰€æœ‰å¸¸è¦‹éœ€æ±‚
   - è¡¨æ ¼ã€è¡¨å–®ã€å°è©±æ¡†ã€æŠ½å±œç­‰ä¼æ¥­ç´šå…ƒä»¶
   - è³‡æ–™è¦–è¦ºåŒ–å…ƒä»¶ï¼ˆé€²åº¦æ¢ã€å¾½ç« ã€æ¨™ç±¤ï¼‰

2. **å„ªç§€çš„ç¹é«”ä¸­æ–‡æ”¯æ´**
   ```javascript
   import zhTw from 'element-plus/dist/locale/zh-tw.mjs'

   app.use(ElementPlus, {
     locale: zhTw,
   })
   ```

3. **æ–‡ä»¶å®Œå–„**
   - ç¹é«”ä¸­æ–‡æ–‡ä»¶é½Šå…¨
   - æ¯å€‹å…ƒä»¶éƒ½æœ‰å®Œæ•´ç¯„ä¾‹
   - è±å¯Œçš„ Playground

4. **ç”Ÿæ…‹ç³»çµ±æˆç†Ÿ**
   - Element Plus Iconsï¼ˆåœ–ç¤ºåº«ï¼‰
   - å¤§é‡ç¬¬ä¸‰æ–¹å¤–æ›
   - æ´»èºçš„ç¤¾ç¾¤æ”¯æ´

5. **æ•ˆèƒ½å„ªç§€**
   - æŒ‰éœ€å¼•å…¥ï¼ˆTree-shakingï¼‰
   - è™›æ“¬æ»¾å‹•æ”¯æ´
   - å¤§è¡¨æ ¼æ•ˆèƒ½å„ªåŒ–

#### ç¼ºé» âš ï¸

1. è¨­è¨ˆé¢¨æ ¼è¼ƒå‚³çµ±ï¼ˆä½†å°ˆæ¥­ï¼‰
2. æª”æ¡ˆå¤§å°ä¸­ç­‰ï¼ˆ~500KBï¼ŒæŒ‰éœ€å¼•å…¥å¯æ¸›å°‘ï¼‰
3. ä¸»é¡Œå®¢è£½åŒ–éœ€è¦ä¸€äº›é…ç½®

#### ç¯„ä¾‹ç¨‹å¼ç¢¼

```vue
<template>
  <el-container>
    <!-- é ‚éƒ¨å°èˆª -->
    <el-header>
      <el-menu mode="horizontal">
        <el-menu-item index="1">å„€è¡¨æ¿</el-menu-item>
        <el-menu-item index="2">è¨Šæ¯</el-menu-item>
        <el-menu-item index="3">å®¢æˆ¶</el-menu-item>
      </el-menu>
    </el-header>

    <el-container>
      <!-- å´é‚Šæ¬„ -->
      <el-aside width="200px">
        <el-menu>
          <el-menu-item>
            <el-icon><Message /></el-icon>
            <span>è¨Šæ¯åˆ—è¡¨</span>
          </el-menu-item>
        </el-menu>
      </el-aside>

      <!-- ä¸»è¦å…§å®¹ -->
      <el-main>
        <!-- çµ±è¨ˆå¡ç‰‡ -->
        <el-row :gutter="20">
          <el-col :span="6">
            <el-card>
              <el-statistic title="ç¸½è¨Šæ¯æ•¸" :value="856" />
            </el-card>
          </el-col>
        </el-row>

        <!-- è³‡æ–™è¡¨æ ¼ -->
        <el-table :data="messages" stripe>
          <el-table-column prop="user.display_name" label="ç”¨æˆ¶" />
          <el-table-column prop="text_content" label="å…§å®¹" />
          <el-table-column prop="timestamp" label="æ™‚é–“" />
        </el-table>

        <!-- åˆ†é  -->
        <el-pagination
          :total="1000"
          :page-size="20"
          layout="prev, pager, next"
        />
      </el-main>
    </el-container>
  </el-container>
</template>
```

#### é©ç”¨å ´æ™¯

âœ… **å¼·çƒˆæ¨è–¦**ï¼Œå¦‚æœä½ çš„å°ˆæ¡ˆï¼š
- éœ€è¦ä¼æ¥­ç´šæ‡‰ç”¨å¤–è§€
- éœ€è¦å®Œæ•´çš„è¡¨æ ¼å’Œè¡¨å–®åŠŸèƒ½
- é‡è¦–ç©©å®šæ€§å’Œç¤¾ç¾¤æ”¯æ´
- éœ€è¦ç¹é«”ä¸­æ–‡æ–‡ä»¶

---

### 1.2 Ant Design Vue

**å®˜ç¶²**ï¼šhttps://antdv.com/

#### å„ªé» âœ…

1. **æœ€ç¾è§€çš„è¨­è¨ˆ**
   - Ant Design è¨­è¨ˆèªè¨€
   - ç¾ä»£ã€ç²¾ç·»ã€å°ˆæ¥­
   - å‹•ç•«æ•ˆæœæµæš¢

2. **å…ƒä»¶åŠŸèƒ½å¼·å¤§**
   - é€²éšè¡¨æ ¼ï¼ˆå¯ç·¨è¼¯ã€æ‹–æ›³ã€æ¨¹å½¢ï¼‰
   - è¤‡é›œè¡¨å–®é©—è­‰
   - è±å¯Œçš„äº’å‹•å…ƒä»¶

3. **ä¼æ¥­ç´šæ‡‰ç”¨é¦–é¸**
   - èèŸ»é›†åœ˜ä½¿ç”¨
   - å¤§é‡ä¼æ¥­æ¡ç”¨
   - é©åˆé‡‘èã€é›»å•†ç­‰è¡Œæ¥­

4. **å®¢è£½åŒ–èƒ½åŠ›å¼·**
   - ä¸»é¡Œé…ç½®éˆæ´»
   - å¯æ·±åº¦å®¢è£½åŒ–

#### ç¼ºé» âš ï¸

1. **æª”æ¡ˆè¼ƒå¤§**ï¼ˆ~600KBï¼Œä½†å¯æŒ‰éœ€å¼•å…¥ï¼‰
2. **æ•ˆèƒ½ç¨éœæ–¼ Element Plus**ï¼ˆå¤§é‡è³‡æ–™æ™‚ï¼‰
3. **å­¸ç¿’æˆæœ¬ç¨é«˜**ï¼ˆåŠŸèƒ½å¤ªå¤šï¼‰

#### ç¯„ä¾‹ç¨‹å¼ç¢¼

```vue
<template>
  <a-layout>
    <a-layout-header>
      <a-menu mode="horizontal">
        <a-menu-item key="1">å„€è¡¨æ¿</a-menu-item>
        <a-menu-item key="2">è¨Šæ¯</a-menu-item>
      </a-menu>
    </a-layout-header>

    <a-layout>
      <a-layout-sider>
        <a-menu>
          <a-menu-item>
            <message-outlined />
            <span>è¨Šæ¯åˆ—è¡¨</span>
          </a-menu-item>
        </a-menu>
      </a-layout-sider>

      <a-layout-content>
        <!-- çµ±è¨ˆå¡ç‰‡ -->
        <a-row :gutter="16">
          <a-col :span="6">
            <a-card>
              <a-statistic title="ç¸½è¨Šæ¯æ•¸" :value="856" />
            </a-card>
          </a-col>
        </a-row>

        <!-- è³‡æ–™è¡¨æ ¼ -->
        <a-table
          :dataSource="messages"
          :columns="columns"
          :pagination="{ pageSize: 20 }"
        />
      </a-layout-content>
    </a-layout>
  </a-layout>
</template>
```

#### é©ç”¨å ´æ™¯

âœ… **æ¨è–¦**ï¼Œå¦‚æœä½ çš„å°ˆæ¡ˆï¼š
- éœ€è¦æœ€ç¾è§€çš„è¨­è¨ˆ
- éœ€è¦è¤‡é›œçš„äº’å‹•åŠŸèƒ½
- æœ‰è¼ƒé«˜çš„è¨­è¨ˆè¦æ±‚
- ä¸æ“”å¿ƒæª”æ¡ˆå¤§å°

---

### 1.3 Naive UI

**å®˜ç¶²**ï¼šhttps://www.naiveui.com/

#### å„ªé» âœ…

1. **æœ€è¼•é‡**
   - æª”æ¡ˆå¤§å°æœ€å°ï¼ˆ~300KBï¼‰
   - æ•ˆèƒ½æœ€ä½³
   - Tree-shaking å„ªç§€

2. **ç¾ä»£è¨­è¨ˆ**
   - ç°¡æ½”ã€æ¸…çˆ½
   - å‹•ç•«æµæš¢
   - æ”¯æ´æ·±è‰²æ¨¡å¼

3. **TypeScript åŸç”Ÿ**
   - å®Œæ•´çš„å‹åˆ¥å®šç¾©
   - IDE æç¤ºå®Œç¾

#### ç¼ºé» âš ï¸

1. **å…ƒä»¶è¼ƒæ–°**ï¼ˆå¯èƒ½æœ‰å° Bugï¼‰
2. **ç¤¾ç¾¤è¼ƒå°**ï¼ˆç›¸å°å‰å…©è€…ï¼‰
3. **ä¼æ¥­ç´šåŠŸèƒ½ç¨å¼±**

#### é©ç”¨å ´æ™¯

âœ… **é©åˆ**ï¼Œå¦‚æœä½ çš„å°ˆæ¡ˆï¼š
- é‡è¦–æ•ˆèƒ½å’Œæª”æ¡ˆå¤§å°
- è¿½æ±‚ç¾ä»£åŒ–è¨­è¨ˆ
- ä½¿ç”¨ TypeScript
- åŠŸèƒ½éœ€æ±‚ä¸å¤ªè¤‡é›œ

---

### 1.4 æœ€çµ‚å»ºè­°

#### ğŸ† æ¨è–¦ï¼šElement Plus

**ç†ç”±**ï¼š
1. âœ… ç©©å®šæˆç†Ÿï¼Œç¤¾ç¾¤æ´»èº
2. âœ… ç¹é«”ä¸­æ–‡æ–‡ä»¶å®Œå–„
3. âœ… å…ƒä»¶é½Šå…¨ï¼ŒåŠŸèƒ½å¼·å¤§
4. âœ… é©åˆä¼æ¥­ç´š CRM æ‡‰ç”¨
5. âœ… æ•ˆèƒ½å„ªç§€
6. âœ… å­¸ç¿’æ›²ç·šå¹³ç·©

**é©åˆä½ çš„å°ˆæ¡ˆï¼Œå› ç‚º**ï¼š
- LINE CRM ç³»çµ±éœ€è¦å°ˆæ¥­å¤–è§€
- éœ€è¦è¡¨æ ¼ã€è¡¨å–®ç­‰ä¼æ¥­ç´šå…ƒä»¶
- åœ˜éšŠå¯èƒ½éœ€è¦ä¸­æ–‡æ–‡ä»¶æ”¯æ´
- ç©©å®šæ€§å’Œç¤¾ç¾¤æ”¯æ´å¾ˆé‡è¦

#### ğŸ¥ˆ å‚™é¸ï¼šAnt Design Vue

**å¦‚æœä½ æ›´é‡è¦–**ï¼š
- è¨­è¨ˆç¾è§€åº¦
- è¤‡é›œçš„äº’å‹•åŠŸèƒ½
- å“ç‰Œå½¢è±¡

---

## 2. éƒ¨ç½²å¹³å°é¸å‹

### é¸é …æ¯”è¼ƒ

| ç‰¹æ€§ | Vercel | Netlify | Cloudflare Pages | AWS Amplify |
|-----|--------|---------|------------------|-------------|
| **å…è²»æ–¹æ¡ˆ** | 100GB æµé‡/æœˆ | 100GB æµé‡/æœˆ | ç„¡é™æµé‡ | 5GB æµé‡/æœˆ |
| **Serverless Functions** | âœ… å„ªç§€ | âœ… è‰¯å¥½ | âœ… Workers | âœ… Lambda |
| **å†·å•Ÿå‹•** | ~100ms | ~200ms | ~0ms (Workers) | ~500ms |
| **è‡ªå‹•éƒ¨ç½²** | âœ… | âœ… | âœ… | âœ… |
| **GitHub æ•´åˆ** | â­â­â­â­â­ | â­â­â­â­â­ | â­â­â­â­â­ | â­â­â­â­ |
| **é è¦½ç’°å¢ƒ** | âœ… æ¯å€‹ PR | âœ… æ¯å€‹ PR | âœ… æ¯å€‹ PR | âœ… |
| **CDN** | å…¨çƒ | å…¨çƒ | å…¨çƒ | å…¨çƒ |
| **è¨­å®šè¤‡é›œåº¦** | ç°¡å–® | ç°¡å–® | ä¸­ç­‰ | è¤‡é›œ |
| **åƒ¹æ ¼** | $20/æœˆèµ· | $19/æœˆèµ· | $5/æœˆèµ· | $0.15/GB |

### 2.1 Vercelï¼ˆæ¨è–¦ï¼‰â­

**å®˜ç¶²**ï¼šhttps://vercel.com/

#### å„ªé» âœ…

1. **æœ€ä½³çš„é–‹ç™¼é«”é©—**
   - é›¶é…ç½®éƒ¨ç½²
   - è‡ªå‹• HTTPS
   - å³æ™‚é è¦½ï¼ˆæ¯å€‹ PRï¼‰
   - å¼·å¤§çš„ Dashboard

2. **Serverless Functions æœ€å¼·**
   - æ”¯æ´å¤šç¨®èªè¨€ï¼ˆNode.js, Go, Python, Rubyï¼‰
   - å†·å•Ÿå‹•æœ€å¿«ï¼ˆ~100msï¼‰
   - Edge Functionsï¼ˆå…¨çƒé‚Šç·£é‹ç®—ï¼‰
   - å…§å»ºç’°å¢ƒè®Šæ•¸ç®¡ç†

3. **æ•ˆèƒ½å„ªç§€**
   - å…¨çƒ CDN
   - è‡ªå‹•åœ–ç‰‡å„ªåŒ–
   - æ™ºèƒ½å¿«å–
   - åˆ†æå’Œç›£æ§

4. **å®Œç¾æ•´åˆ Next.js**ï¼ˆé›–ç„¶æˆ‘å€‘ç”¨ Vueï¼Œä½†å·¥å…·éˆç›¸åŒï¼‰

#### å…è²»æ–¹æ¡ˆé™åˆ¶

- 100GB æµé‡/æœˆ
- 100GB-å°æ™‚ Serverless Functions åŸ·è¡Œæ™‚é–“/æœˆ
- 6000 åˆ†é˜å»ºç½®æ™‚é–“/æœˆ
- ç„¡åœ˜éšŠå”ä½œï¼ˆ1 äººï¼‰

**å°ä½ çš„å°ˆæ¡ˆä¾†èªªè¶³å¤ å—ï¼Ÿ**
âœ… **çµ•å°è¶³å¤ **ï¼Œå‡è¨­ï¼š
- 100 å€‹å®¢æˆ¶
- æ¯äººæ¯å¤© 10 å‰‡è¨Šæ¯ = 1000 å‰‡/å¤© = 30,000 å‰‡/æœˆ
- æ¯å‰‡è¨Šæ¯ Webhook ~1KB = 30MB/æœˆï¼ˆæµé‡é ä½æ–¼ 100GBï¼‰

#### Webhook Function è¨­å®š

```javascript
// api/webhook.js
export default async function handler(req, res) {
  // LINE Webhook é‚è¼¯
  return res.status(200).json({ message: 'OK' });
}
```

```json
// vercel.json
{
  "functions": {
    "api/webhook.js": {
      "maxDuration": 10,
      "memory": 1024
    }
  }
}
```

#### éƒ¨ç½²å‘½ä»¤

```bash
# å®‰è£ Vercel CLI
npm i -g vercel

# éƒ¨ç½²
vercel

# ç”Ÿç”¢ç’°å¢ƒéƒ¨ç½²
vercel --prod
```

---

### 2.2 Netlify

**å®˜ç¶²**ï¼šhttps://www.netlify.com/

#### å„ªé» âœ…

1. **ç°¡å–®æ˜“ç”¨**
   - æ‹–æ”¾éƒ¨ç½²
   - ç›´è§€çš„ Dashboard
   - è¡¨å–®è™•ç†ï¼ˆå…§å»ºï¼‰

2. **Netlify Functions**
   - åŸºæ–¼ AWS Lambda
   - æ”¯æ´èƒŒæ™¯å‡½æ•¸ï¼ˆé•·æ™‚é–“åŸ·è¡Œï¼‰
   - æ’ç¨‹ä»»å‹™

3. **å…è²»æ–¹æ¡ˆå„ªæ¸¥**
   - 100GB æµé‡/æœˆ
   - 300 åˆ†é˜å»ºç½®æ™‚é–“/æœˆ
   - 125,000 æ¬¡ Functions è«‹æ±‚/æœˆ

#### ç¼ºé» âš ï¸

1. Functions å†·å•Ÿå‹•è¼ƒæ…¢ï¼ˆ~200msï¼‰
2. æ•ˆèƒ½ç•¥éœæ–¼ Vercel
3. é€²éšåŠŸèƒ½éœ€è¦ä»˜è²»

#### Webhook Function è¨­å®š

```javascript
// netlify/functions/webhook.js
exports.handler = async (event, context) => {
  // LINE Webhook é‚è¼¯
  return {
    statusCode: 200,
    body: JSON.stringify({ message: 'OK' })
  };
};
```

```toml
# netlify.toml
[functions]
  directory = "netlify/functions"

[[redirects]]
  from = "/api/webhook"
  to = "/.netlify/functions/webhook"
  status = 200
```

---

### 2.3 Cloudflare Pages + Workers

**å®˜ç¶²**ï¼šhttps://pages.cloudflare.com/

#### å„ªé» âœ…

1. **å®Œå…¨å…è²»**
   - ç„¡é™æµé‡
   - ç„¡é™è«‹æ±‚
   - 500 æ¬¡å»ºç½®/æœˆ

2. **Workers æœ€å¿«**
   - é›¶å†·å•Ÿå‹•ï¼ˆV8 Isolatesï¼‰
   - å…¨çƒé‚Šç·£é‹ç®—
   - æ¥µè‡´æ•ˆèƒ½

3. **é©åˆé«˜æµé‡**

#### ç¼ºé» âš ï¸

1. **Workers é™åˆ¶å¤š**
   - CPU åŸ·è¡Œæ™‚é–“é™åˆ¶ï¼ˆå…è²» 10msï¼‰
   - ç„¡æ³•ä½¿ç”¨æ‰€æœ‰ Node.js API
   - éœ€è¦å­¸ç¿’ Workers èªæ³•

2. **è¨­å®šè¼ƒè¤‡é›œ**

#### é©ç”¨å ´æ™¯

âœ… **é©åˆ**ï¼Œå¦‚æœä½ ï¼š
- é æœŸæµé‡éå¸¸å¤§
- éœ€è¦æ¥µè‡´æ•ˆèƒ½
- é¡˜æ„å­¸ç¿’ Workers

âš ï¸ **ä¸é©åˆ**ï¼Œå¦‚æœä½ ï¼š
- éœ€è¦å®Œæ•´çš„ Node.js åŠŸèƒ½
- éœ€è¦ç°¡å–®å¿«é€Ÿéƒ¨ç½²

---

### 2.4 æœ€çµ‚å»ºè­°

#### ğŸ† æ¨è–¦ï¼šVercel

**ç†ç”±**ï¼š
1. âœ… æœ€ä½³çš„é–‹ç™¼é«”é©—
2. âœ… Serverless Functions åŠŸèƒ½å¼·å¤§
3. âœ… å†·å•Ÿå‹•å¿«
4. âœ… å…è²»æ–¹æ¡ˆè¶³å¤ ä½¿ç”¨
5. âœ… è¨­å®šç°¡å–®
6. âœ… ç›£æ§å’Œåˆ†æå®Œå–„

**å°ä½ çš„å°ˆæ¡ˆç‰¹åˆ¥é©åˆï¼Œå› ç‚º**ï¼š
- LINE Webhook éœ€è¦å¿«é€Ÿå›æ‡‰ï¼ˆ<3ç§’ï¼‰
- Vercel Functions å†·å•Ÿå‹•å¿«
- é›¶é…ç½®éƒ¨ç½²ï¼Œçœæ™‚çœåŠ›
- å…è²»æ–¹æ¡ˆå°ä½ çš„æµé‡ç¶½ç¶½æœ‰é¤˜

#### ğŸ¥ˆ å‚™é¸ï¼šNetlify

**å¦‚æœä½ æ›´å–œæ­¡**ï¼š
- ç°¡å–®çš„ä»‹é¢
- éœ€è¦è¡¨å–®è™•ç†
- å·²ç¶“ç†Ÿæ‚‰ Netlify

---

## 3. åœ–è¡¨åº«é¸å‹

### é¸é …æ¯”è¼ƒ

| ç‰¹æ€§ | ECharts | Chart.js | ApexCharts | D3.js |
|-----|---------|----------|------------|-------|
| **æª”æ¡ˆå¤§å°** | ~900KB | ~200KB | ~500KB | ~200KB |
| **åœ–è¡¨é¡å‹** | 90+ | 8 ç¨®åŸºæœ¬ | 20+ | ç„¡é™ï¼ˆéœ€è‡ªå·±å¯«ï¼‰ |
| **å­¸ç¿’æ›²ç·š** | ä¸­ç­‰ | ç°¡å–® | ä¸­ç­‰ | å›°é›£ |
| **æ•ˆèƒ½** | â­â­â­â­â­ | â­â­â­â­ | â­â­â­â­ | â­â­â­ |
| **å®¢è£½åŒ–** | â­â­â­â­ | â­â­â­ | â­â­â­â­ | â­â­â­â­â­ |
| **æ–‡ä»¶** | â­â­â­â­â­ | â­â­â­â­ | â­â­â­â­ | â­â­â­ |
| **Vue æ•´åˆ** | vue-echarts | vue-chartjs | vue3-apexcharts | éœ€æ‰‹å‹•æ•´åˆ |

### 3.1 EChartsï¼ˆæ¨è–¦ï¼‰â­

**å®˜ç¶²**ï¼šhttps://echarts.apache.org/

#### å„ªé» âœ…

1. **åŠŸèƒ½æœ€å¼·å¤§**
   - 90+ ç¨®åœ–è¡¨é¡å‹
   - åœ°åœ–è¦–è¦ºåŒ–
   - 3D åœ–è¡¨
   - è¤‡é›œçš„äº’å‹•åŠŸèƒ½

2. **æ•ˆèƒ½å„ªç§€**
   - æ”¯æ´å¤§è³‡æ–™é‡ï¼ˆç™¾è¬ç´šï¼‰
   - Canvas æ¸²æŸ“
   - è™›æ“¬åŒ–æ”¯æ´

3. **ä¸­æ–‡æ–‡ä»¶å®Œå–„**
   - ç¹é«”ä¸­æ–‡æ”¯æ´
   - è±å¯Œçš„ç¯„ä¾‹
   - æ´»èºçš„ç¤¾ç¾¤

4. **ä¼æ¥­ç´šæ‡‰ç”¨é¦–é¸**
   - ç™¾åº¦é–‹ç™¼
   - Apache å°ˆæ¡ˆ
   - å¤§é‡ä¼æ¥­æ¡ç”¨

#### ç¼ºé» âš ï¸

1. æª”æ¡ˆè¼ƒå¤§ï¼ˆ~900KBï¼Œä½†å¯æŒ‰éœ€å¼•å…¥ï¼‰
2. å­¸ç¿’æ›²ç·šä¸­ç­‰

#### ç¯„ä¾‹ç¨‹å¼ç¢¼

```vue
<template>
  <div ref="chartRef" style="width: 100%; height: 400px"></div>
</template>

<script setup>
import { ref, onMounted, watch } from 'vue';
import * as echarts from 'echarts/core';
import { LineChart } from 'echarts/charts';
import { GridComponent, TooltipComponent } from 'echarts/components';
import { CanvasRenderer } from 'echarts/renderers';

// æŒ‰éœ€å¼•å…¥ï¼ˆæ¸›å°‘æª”æ¡ˆå¤§å°ï¼‰
echarts.use([LineChart, GridComponent, TooltipComponent, CanvasRenderer]);

const props = defineProps({
  data: Array
});

const chartRef = ref(null);
let chart = null;

onMounted(() => {
  chart = echarts.init(chartRef.value);
  updateChart();
});

watch(() => props.data, updateChart);

function updateChart() {
  const option = {
    title: {
      text: 'è¨Šæ¯è¶¨å‹¢ï¼ˆéå» 30 å¤©ï¼‰'
    },
    tooltip: {
      trigger: 'axis'
    },
    xAxis: {
      type: 'category',
      data: props.data.map(d => d.date)
    },
    yAxis: {
      type: 'value'
    },
    series: [
      {
        name: 'è¨Šæ¯æ•¸',
        type: 'line',
        data: props.data.map(d => d.count),
        smooth: true,
        areaStyle: {}
      }
    ]
  };

  chart.setOption(option);
}
</script>
```

#### é©åˆä½ çš„ CRM ç³»çµ±

```javascript
// è¨Šæ¯è¶¨å‹¢åœ–
{
  type: 'line',
  data: [...],
  smooth: true
}

// è¨Šæ¯é¡å‹åˆ†å¸ƒï¼ˆåœ“é¤…åœ–ï¼‰
{
  type: 'pie',
  radius: ['40%', '70%'],
  data: [
    { value: 450, name: 'æ–‡å­—è¨Šæ¯' },
    { value: 200, name: 'åœ–ç‰‡è¨Šæ¯' },
    { value: 150, name: 'æª”æ¡ˆè¨Šæ¯' }
  ]
}

// å®¢æˆ¶æ´»èºåº¦ï¼ˆæŸ±ç‹€åœ–ï¼‰
{
  type: 'bar',
  data: [...]
}
```

---

### 3.2 Chart.js

**å®˜ç¶²**ï¼šhttps://www.chartjs.org/

#### å„ªé» âœ…

1. **æœ€è¼•é‡**ï¼ˆ~200KBï¼‰
2. **ç°¡å–®æ˜“ç”¨**
3. **éŸ¿æ‡‰å¼è¨­è¨ˆ**
4. **é–‹ç®±å³ç”¨**

#### ç¼ºé» âš ï¸

1. åœ–è¡¨é¡å‹è¼ƒå°‘ï¼ˆ8 ç¨®åŸºæœ¬é¡å‹ï¼‰
2. å®¢è£½åŒ–èƒ½åŠ›è¼ƒå¼±
3. å¤§è³‡æ–™é‡æ•ˆèƒ½è¼ƒå·®

#### ç¯„ä¾‹ç¨‹å¼ç¢¼

```vue
<template>
  <Line :data="chartData" :options="chartOptions" />
</template>

<script setup>
import { Line } from 'vue-chartjs';
import {
  Chart as ChartJS,
  CategoryScale,
  LinearScale,
  PointElement,
  LineElement,
  Title,
  Tooltip,
  Legend
} from 'chart.js';

ChartJS.register(
  CategoryScale,
  LinearScale,
  PointElement,
  LineElement,
  Title,
  Tooltip,
  Legend
);

const chartData = {
  labels: ['1æœˆ', '2æœˆ', '3æœˆ', '4æœˆ', '5æœˆ'],
  datasets: [
    {
      label: 'è¨Šæ¯æ•¸',
      data: [120, 150, 180, 200, 190],
      borderColor: 'rgb(75, 192, 192)',
      tension: 0.1
    }
  ]
};

const chartOptions = {
  responsive: true,
  plugins: {
    legend: {
      position: 'top'
    }
  }
};
</script>
```

#### é©ç”¨å ´æ™¯

âœ… **é©åˆ**ï¼Œå¦‚æœä½ ï¼š
- åªéœ€è¦åŸºæœ¬åœ–è¡¨ï¼ˆæŠ˜ç·šã€æŸ±ç‹€ã€åœ“é¤…ï¼‰
- é‡è¦–æª”æ¡ˆå¤§å°
- éœ€è¦å¿«é€Ÿå¯¦ä½œ

---

### 3.3 æœ€çµ‚å»ºè­°

#### ğŸ† æ¨è–¦ï¼šECharts

**ç†ç”±**ï¼š
1. âœ… åŠŸèƒ½æœ€å¼·å¤§ï¼Œæœªä¾†æ“´å±•æ€§å¥½
2. âœ… æ•ˆèƒ½å„ªç§€ï¼Œæ”¯æ´å¤§è³‡æ–™é‡
3. âœ… ä¸­æ–‡æ–‡ä»¶å®Œå–„
4. âœ… é©åˆä¼æ¥­ç´šæ‡‰ç”¨
5. âœ… å¯æŒ‰éœ€å¼•å…¥ï¼Œæ¸›å°‘æª”æ¡ˆå¤§å°

**å°ä½ çš„ CRM ç³»çµ±ç‰¹åˆ¥é©åˆï¼Œå› ç‚º**ï¼š
- éœ€è¦å¤šç¨®åœ–è¡¨é¡å‹ï¼ˆæŠ˜ç·šã€åœ“é¤…ã€æŸ±ç‹€ï¼‰
- å¯èƒ½éœ€è¦åœ°åœ–è¦–è¦ºåŒ–ï¼ˆå®¢æˆ¶åˆ†å¸ƒï¼‰
- è³‡æ–™é‡å¯èƒ½æœƒå¢é•·
- éœ€è¦å°ˆæ¥­çš„è¦–è¦ºæ•ˆæœ

#### ğŸ¥ˆ å‚™é¸ï¼šChart.js

**å¦‚æœä½ æ›´é‡è¦–**ï¼š
- è¼•é‡å’Œç°¡å–®
- åªéœ€è¦åŸºæœ¬åœ–è¡¨
- å¿«é€Ÿé–‹ç™¼

---

## 4. TypeScript ä½¿ç”¨å»ºè­°

### 4.1 ä½¿ç”¨ TypeScript çš„å„ªç¼ºé»

#### å„ªé» âœ…

1. **é¡å‹å®‰å…¨**
   - ç·¨è­¯æ™‚æ•ç²éŒ¯èª¤
   - æ¸›å°‘åŸ·è¡Œæ™‚éŒ¯èª¤
   - é‡æ§‹æ›´å®‰å…¨

2. **æ›´å¥½çš„é–‹ç™¼é«”é©—**
   - IDE è‡ªå‹•å®Œæˆ
   - å³æ™‚éŒ¯èª¤æç¤º
   - ç¨‹å¼ç¢¼è·³è½‰

3. **ç¨‹å¼ç¢¼å¯è®€æ€§**
   - é¡å‹å³æ–‡ä»¶
   - æ¸›å°‘è¨»è§£éœ€æ±‚
   - æ›´å®¹æ˜“ç†è§£ç¨‹å¼ç¢¼

4. **åœ˜éšŠå”ä½œ**
   - ä»‹é¢å®šç¾©æ¸…æ¥š
   - æ¸›å°‘æºé€šæˆæœ¬
   - ç¨‹å¼ç¢¼å“è³ªæå‡

#### ç¼ºé» âš ï¸

1. **å­¸ç¿’æ›²ç·š**
   - éœ€è¦å­¸ç¿’ TypeScript èªæ³•
   - å‹åˆ¥ç³»çµ±è¤‡é›œ
   - åˆæœŸé–‹ç™¼é€Ÿåº¦æ…¢

2. **é…ç½®è¤‡é›œ**
   - tsconfig.json è¨­å®š
   - ç¬¬ä¸‰æ–¹å¥—ä»¶å‹åˆ¥å®šç¾©
   - å»ºç½®æ™‚é–“å¢åŠ 

3. **éåº¦è¨­è¨ˆé¢¨éšª**
   - å¯èƒ½éåº¦è¿½æ±‚å‹åˆ¥å®Œç¾
   - ç¨‹å¼ç¢¼è®Šå¾—è¤‡é›œ

### 4.2 ç¯„ä¾‹æ¯”è¼ƒ

#### JavaScript ç‰ˆæœ¬

```javascript
// stores/messages.js
export const useMessagesStore = defineStore('messages', {
  state: () => ({
    messages: [],
    loading: false
  }),

  actions: {
    async fetchMessages(options) {
      this.loading = true;
      const { data } = await supabase
        .from('messages')
        .select('*')
        .limit(options.limit);

      this.messages = data;
      this.loading = false;
    }
  }
});
```

#### TypeScript ç‰ˆæœ¬

```typescript
// stores/messages.ts
import { defineStore } from 'pinia';
import { supabase } from '@/utils/supabase';

interface Message {
  id: number;
  line_message_id: string;
  user_id: number;
  message_type: 'text' | 'image' | 'file' | 'audio' | 'video';
  text_content?: string;
  timestamp: string;
  user: User;
}

interface User {
  id: number;
  line_user_id: string;
  display_name: string;
  picture_url?: string;
  group_display_name?: string;
  customer_name?: string;
}

interface FetchOptions {
  limit?: number;
  offset?: number;
  userId?: number;
}

interface MessagesState {
  messages: Message[];
  loading: boolean;
}

export const useMessagesStore = defineStore('messages', {
  state: (): MessagesState => ({
    messages: [],
    loading: false
  }),

  actions: {
    async fetchMessages(options: FetchOptions = {}): Promise<void> {
      this.loading = true;

      try {
        const { data, error } = await supabase
          .from('messages')
          .select('*, user:users(*)')
          .limit(options.limit ?? 100);

        if (error) throw error;

        this.messages = data as Message[];
      } catch (error) {
        console.error('Error fetching messages:', error);
      } finally {
        this.loading = false;
      }
    }
  }
});
```

### 4.3 å»ºè­°

#### ğŸ¯ å»ºè­°ï¼šå…ˆç”¨ JavaScriptï¼Œè¦–æƒ…æ³å‡ç´š

**ç†ç”±**ï¼š
1. âœ… å¿«é€Ÿé–‹å§‹ï¼Œé™ä½å­¸ç¿’æ›²ç·š
2. âœ… Vue 3 å° JavaScript æ”¯æ´å®Œå–„
3. âœ… å¯éš¨æ™‚å‡ç´šåˆ° TypeScriptï¼ˆVue 3 å¤©ç”Ÿæ”¯æ´ï¼‰
4. âœ… åˆæœŸå°ˆæ³¨æ¥­å‹™é‚è¼¯ï¼Œä¸è¢«å‹åˆ¥å›°æ“¾

**æœªä¾†å‡ç´šç­–ç•¥**ï¼š
```bash
# å°ˆæ¡ˆç©©å®šå¾Œï¼Œå¯é€æ­¥åŠ å…¥ TypeScript
npm install -D typescript @types/node
npx tsc --init

# é€æª”æ¡ˆé·ç§»ï¼š.vue â†’ .vue (åŠ å…¥ lang="ts")
# é€æª”æ¡ˆé·ç§»ï¼š.js â†’ .ts
```

**æ¼¸é€²å¼é·ç§»**ï¼š
```vue
<!-- å…ˆç”¨ JavaScript -->
<script setup>
// ...
</script>

<!-- æœªä¾†å‡ç´šåˆ° TypeScript -->
<script setup lang="ts">
// ...
</script>
```

---

## 5. é›™å‘è¨Šæ¯æ”¶é›†æ–¹æ¡ˆ

### 5.1 å•é¡Œåˆ†æ

**ç›®å‰ç‹€æ³**ï¼š
- âœ… å¯ä»¥æ”¶é›†å®¢æˆ¶ç™¼é€çš„è¨Šæ¯ï¼ˆé€é LINE Webhookï¼‰
- âŒ ç„¡æ³•æ”¶é›†å®¢æœç™¼é€çš„è¨Šæ¯

**åŸå› **ï¼š
- LINE Messaging API ä¸æœƒæ¨é€ã€Œä½ ç™¼é€çš„è¨Šæ¯ã€åˆ° Webhook
- LINE Official Account Manager (OA Manager) çš„è¨Šæ¯ç„¡æ³•é€é API å–å¾—

### 5.2 è§£æ±ºæ–¹æ¡ˆ

#### æ–¹æ¡ˆ Aï¼šåœ¨ç³»çµ±å…§å»ºç™¼é€ä»‹é¢ï¼ˆæ¨è–¦ï¼‰â­

**æ¦‚å¿µ**ï¼š
åœ¨ä½ çš„ CRM ç³»çµ±ä¸­å»ºç«‹è¨Šæ¯ç™¼é€ä»‹é¢ï¼Œæ‰€æœ‰å®¢æœè¨Šæ¯éƒ½é€éé€™å€‹ä»‹é¢ç™¼é€ï¼Œç³»çµ±åŒæ­¥è¨˜éŒ„åˆ°è³‡æ–™åº«ã€‚

**æµç¨‹**ï¼š
```
å®¢æœåœ¨ CRM è¼¸å…¥è¨Šæ¯
    â†“
CRM å‘¼å« LINE Messaging API ç™¼é€è¨Šæ¯
    â†“
åŒæ™‚è¨˜éŒ„è¨Šæ¯åˆ° Supabase è³‡æ–™åº«
    â†“
å®¢æˆ¶æ”¶åˆ°è¨Šæ¯ï¼ˆåœ¨ LINEï¼‰
```

**å„ªé»**ï¼š
- âœ… å®Œæ•´è¨˜éŒ„æ‰€æœ‰è¨Šæ¯ï¼ˆæ”¶ç™¼é›™å‘ï¼‰
- âœ… çµ±ä¸€çš„å®¢æœä»‹é¢
- âœ… å¯ä»¥åŠ å…¥æ›´å¤šåŠŸèƒ½ï¼ˆå¿«æ·å›è¦†ã€è¨Šæ¯æ¨¡æ¿ï¼‰
- âœ… è¨Šæ¯ç‹€æ…‹è¿½è¹¤ï¼ˆå·²ç™¼é€ã€å·²è®€ï¼‰

**ç¼ºé»**ï¼š
- âš ï¸ å®¢æœéœ€è¦ä½¿ç”¨ CRM ç³»çµ±ç™¼é€ï¼ˆä¸èƒ½ç”¨ OA Managerï¼‰
- âš ï¸ éœ€è¦é–‹ç™¼ç™¼é€ä»‹é¢

**è³‡æ–™åº«æ“´å±•**ï¼š
```sql
-- messages è¡¨åŠ å…¥ direction æ¬„ä½
ALTER TABLE messages ADD COLUMN direction TEXT DEFAULT 'inbound';
-- 'inbound' = å®¢æˆ¶ç™¼é€
-- 'outbound' = å®¢æœç™¼é€

-- åŠ å…¥ç™¼é€è€…è³‡è¨Š
ALTER TABLE messages ADD COLUMN sent_by TEXT;
-- è¨˜éŒ„æ˜¯å“ªå€‹å®¢æœäººå“¡ç™¼é€çš„

-- åŠ å…¥ç™¼é€ç‹€æ…‹
ALTER TABLE messages ADD COLUMN send_status TEXT DEFAULT 'sent';
-- 'sent' = å·²ç™¼é€
-- 'delivered' = å·²é€é”ï¼ˆLINE æ²’æä¾›ï¼‰
-- 'failed' = ç™¼é€å¤±æ•—
```

**å¯¦ä½œç¯„ä¾‹**ï¼š

```vue
<!-- src/components/messages/MessageSender.vue -->
<template>
  <div class="message-sender">
    <el-input
      v-model="messageText"
      type="textarea"
      :rows="3"
      placeholder="è¼¸å…¥è¨Šæ¯..."
      @keydown.ctrl.enter="sendMessage"
    />

    <div class="actions">
      <!-- å¿«æ·å›è¦† -->
      <el-dropdown @command="insertQuickReply">
        <el-button>å¿«æ·å›è¦†</el-button>
        <template #dropdown>
          <el-dropdown-menu>
            <el-dropdown-item command="æ„Ÿè¬æ‚¨çš„è¨Šæ¯">æ„Ÿè¬æ‚¨çš„è¨Šæ¯</el-dropdown-item>
            <el-dropdown-item command="æˆ‘å€‘æœƒç›¡å¿«å›è¦†">æˆ‘å€‘æœƒç›¡å¿«å›è¦†</el-dropdown-item>
          </el-dropdown-menu>
        </template>
      </el-dropdown>

      <!-- ä¸Šå‚³æª”æ¡ˆ -->
      <el-upload
        :http-request="uploadFile"
        :show-file-list="false"
      >
        <el-button icon="Upload">ä¸Šå‚³æª”æ¡ˆ</el-button>
      </el-upload>

      <!-- ç™¼é€æŒ‰éˆ• -->
      <el-button
        type="primary"
        :loading="sending"
        @click="sendMessage"
      >
        ç™¼é€ (Ctrl+Enter)
      </el-button>
    </div>
  </div>
</template>

<script setup>
import { ref } from 'vue';
import { ElMessage } from 'element-plus';

const props = defineProps({
  customerId: Number,
  lineUserId: String
});

const messageText = ref('');
const sending = ref(false);

async function sendMessage() {
  if (!messageText.value.trim()) return;

  sending.value = true;

  try {
    // 1. å‘¼å«å¾Œç«¯ API ç™¼é€è¨Šæ¯åˆ° LINE
    const response = await fetch('/api/send-message', {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify({
        to: props.lineUserId,
        messages: [{
          type: 'text',
          text: messageText.value
        }]
      })
    });

    if (!response.ok) throw new Error('ç™¼é€å¤±æ•—');

    // 2. è¨˜éŒ„åˆ°è³‡æ–™åº«å·²åœ¨å¾Œç«¯å®Œæˆ

    ElMessage.success('è¨Šæ¯å·²ç™¼é€');
    messageText.value = '';

    // 3. é€šçŸ¥çˆ¶å…ƒä»¶æ›´æ–°è¨Šæ¯åˆ—è¡¨
    emit('message-sent');
  } catch (error) {
    console.error('Error sending message:', error);
    ElMessage.error('ç™¼é€å¤±æ•—ï¼Œè«‹ç¨å¾Œå†è©¦');
  } finally {
    sending.value = false;
  }
}

function insertQuickReply(text) {
  messageText.value = text;
}

async function uploadFile(options) {
  // ä¸Šå‚³æª”æ¡ˆé‚è¼¯
  // 1. ä¸Šå‚³åˆ° Supabase Storage
  // 2. ä½¿ç”¨ LINE Image/Video/Audio/File Message ç™¼é€
}

const emit = defineEmits(['message-sent']);
</script>
```

**å¾Œç«¯ Serverless Function**ï¼š

```javascript
// api/send-message.js
import { Client } from '@line/bot-sdk';
import { createClient } from '@supabase/supabase-js';

const lineClient = new Client({
  channelAccessToken: process.env.LINE_CHANNEL_ACCESS_TOKEN
});

const supabase = createClient(
  process.env.SUPABASE_URL,
  process.env.SUPABASE_SERVICE_KEY
);

export default async function handler(req, res) {
  if (req.method !== 'POST') {
    return res.status(405).json({ error: 'Method not allowed' });
  }

  const { to, messages } = req.body;

  try {
    // 1. ç™¼é€è¨Šæ¯åˆ° LINE
    await lineClient.pushMessage(to, messages);

    // 2. è¨˜éŒ„åˆ°è³‡æ–™åº«
    const { data: user } = await supabase
      .from('users')
      .select('id')
      .eq('line_user_id', to)
      .single();

    for (const message of messages) {
      await supabase.from('messages').insert({
        user_id: user.id,
        message_type: message.type,
        text_content: message.text,
        direction: 'outbound', // æ¨™è¨˜ç‚ºå®¢æœç™¼é€
        sent_by: req.headers['x-user-email'], // å¾ Auth å–å¾—å®¢æœäººå“¡
        timestamp: new Date().toISOString()
      });
    }

    return res.status(200).json({ success: true });
  } catch (error) {
    console.error('Error sending message:', error);
    return res.status(500).json({ error: 'Failed to send message' });
  }
}
```

**å®¢æˆ¶è©³æƒ…é é¢æ•´åˆ**ï¼š

```vue
<!-- src/views/CustomerDetail.vue -->
<template>
  <div class="customer-detail">
    <!-- å®¢æˆ¶è³‡è¨Š -->
    <el-card>
      <h2>{{ customer.display_name }}</h2>
      <p>LINE ID: {{ customer.line_user_id }}</p>
    </el-card>

    <!-- è¨Šæ¯æ­·å²ï¼ˆé›™å‘ï¼‰ -->
    <el-card class="message-history">
      <h3>è¨Šæ¯è¨˜éŒ„</h3>
      <div class="messages">
        <div
          v-for="message in messages"
          :key="message.id"
          :class="['message', message.direction]"
        >
          <!-- å®¢æˆ¶ç™¼é€çš„è¨Šæ¯ï¼ˆå·¦é‚Šï¼‰ -->
          <div v-if="message.direction === 'inbound'" class="message-bubble customer">
            <div class="content">{{ message.text_content }}</div>
            <div class="time">{{ formatTime(message.timestamp) }}</div>
          </div>

          <!-- å®¢æœç™¼é€çš„è¨Šæ¯ï¼ˆå³é‚Šï¼‰ -->
          <div v-else class="message-bubble staff">
            <div class="content">{{ message.text_content }}</div>
            <div class="meta">
              <span class="sender">{{ message.sent_by }}</span>
              <span class="time">{{ formatTime(message.timestamp) }}</span>
            </div>
          </div>
        </div>
      </div>
    </el-card>

    <!-- ç™¼é€è¨Šæ¯å€åŸŸ -->
    <el-card>
      <MessageSender
        :customer-id="customer.id"
        :line-user-id="customer.line_user_id"
        @message-sent="loadMessages"
      />
    </el-card>
  </div>
</template>

<style scoped>
.message {
  margin-bottom: 16px;
}

.message.inbound {
  text-align: left;
}

.message.outbound {
  text-align: right;
}

.message-bubble {
  display: inline-block;
  max-width: 70%;
  padding: 12px;
  border-radius: 12px;
}

.message-bubble.customer {
  background-color: #e5e5ea;
  color: #000;
}

.message-bubble.staff {
  background-color: #007aff;
  color: #fff;
}

.time {
  font-size: 12px;
  opacity: 0.6;
  margin-top: 4px;
}
</style>
```

---

#### æ–¹æ¡ˆ Bï¼šä½¿ç”¨ LINE Webhook çš„ã€Œè¨Šæ¯å·²é€é”ã€äº‹ä»¶ï¼ˆéƒ¨åˆ†è§£æ±ºï¼‰

**æ¦‚å¿µ**ï¼š
LINE æä¾› `message delivery` äº‹ä»¶ï¼Œå¯ä»¥çŸ¥é“è¨Šæ¯ä½•æ™‚é€é”ã€‚

**é™åˆ¶**ï¼š
- âŒ åªèƒ½çŸ¥é“ã€Œå·²é€é”ã€ï¼Œç„¡æ³•çŸ¥é“è¨Šæ¯å…§å®¹
- âŒ éœ€è¦åœ¨ LINE Developer Console å•Ÿç”¨
- âš ï¸ ä¸é©åˆä½ çš„éœ€æ±‚

---

#### æ–¹æ¡ˆ Cï¼šæ•´åˆ LINE Official Account Manager APIï¼ˆä¸å¯è¡Œï¼‰

**äº‹å¯¦**ï¼š
- âŒ LINE æ²’æœ‰æä¾› API ä¾†å–å¾— OA Manager çš„ç™¼é€è¨˜éŒ„
- âŒ é€™å€‹åŠŸèƒ½ä¸å­˜åœ¨

---

### 5.3 æœ€çµ‚å»ºè­°

#### ğŸ† æ¨è–¦ï¼šæ–¹æ¡ˆ Aï¼ˆåœ¨ CRM å…§å»ºç™¼é€ä»‹é¢ï¼‰

**å®Œæ•´çš„é›™å‘è¨Šæ¯ç³»çµ±**ï¼š

1. **æ¥æ”¶è¨Šæ¯**ï¼ˆå·²å¯¦ä½œï¼‰
   - LINE Webhook â†’ Supabase
   - `direction = 'inbound'`

2. **ç™¼é€è¨Šæ¯**ï¼ˆæ–°åŠŸèƒ½ï¼‰
   - CRM ä»‹é¢ â†’ LINE API â†’ Supabase
   - `direction = 'outbound'`

3. **è¨Šæ¯é¡¯ç¤º**
   - å®¢æˆ¶è¨Šæ¯ï¼šå·¦å´ï¼ˆç°è‰²æ°£æ³¡ï¼‰
   - å®¢æœè¨Šæ¯ï¼šå³å´ï¼ˆè—è‰²æ°£æ³¡ï¼‰
   - é¡ä¼¼ LINE èŠå¤©ä»‹é¢

4. **é¡å¤–åŠŸèƒ½**
   - å¿«æ·å›è¦†
   - è¨Šæ¯æ¨¡æ¿
   - æª”æ¡ˆå‚³é€
   - è¨Šæ¯ç‹€æ…‹è¿½è¹¤

**å¯¦æ–½æ­¥é©Ÿ**ï¼š

1. **è³‡æ–™åº«æ“´å±•**ï¼ˆ1 å°æ™‚ï¼‰
   ```sql
   ALTER TABLE messages ADD COLUMN direction TEXT DEFAULT 'inbound';
   ALTER TABLE messages ADD COLUMN sent_by TEXT;
   ALTER TABLE messages ADD COLUMN send_status TEXT DEFAULT 'sent';
   ```

2. **å»ºç«‹ç™¼é€ API**ï¼ˆ4 å°æ™‚ï¼‰
   - Serverless Function `/api/send-message`
   - å‘¼å« LINE Push Message API
   - è¨˜éŒ„åˆ°è³‡æ–™åº«

3. **å»ºç«‹ç™¼é€å…ƒä»¶**ï¼ˆ6 å°æ™‚ï¼‰
   - MessageSender.vue
   - æ–‡å­—è¨Šæ¯
   - æª”æ¡ˆä¸Šå‚³
   - å¿«æ·å›è¦†

4. **æ•´åˆåˆ°å®¢æˆ¶è©³æƒ…é **ï¼ˆ4 å°æ™‚ï¼‰
   - è¨Šæ¯æ™‚é–“è»¸ï¼ˆé›™å‘ï¼‰
   - Realtime æ›´æ–°
   - è¨Šæ¯ç‹€æ…‹é¡¯ç¤º

**ç¸½æ™‚é–“ä¼°ç®—**ï¼šç´„ 2 å¤©

---

## 6. å…¶ä»–æŠ€è¡“æ±ºç­–

### 6.1 ç‹€æ…‹ç®¡ç†

**æ¨è–¦**ï¼šPinia
- Vue 3 å®˜æ–¹æ¨è–¦
- è¼•é‡ç°¡æ½”
- TypeScript æ”¯æ´ä½³

### 6.2 HTTP å®¢æˆ¶ç«¯

**æ¨è–¦**ï¼šSupabase Client SDK
- ç›´æ¥æŸ¥è©¢è³‡æ–™åº«
- å…§å»º Realtime
- ç„¡éœ€é¡å¤– API

**å‚™ç”¨**ï¼šAxiosï¼ˆç™¼é€è¨Šæ¯åˆ° LINEï¼‰

### 6.3 è¡¨å–®é©—è­‰

**æ¨è–¦**ï¼šVeeValidate
- Vue 3 åŸç”Ÿæ”¯æ´
- éˆæ´»å¼·å¤§
- Yup schema é©—è­‰

### 6.4 æ—¥æœŸè™•ç†

**æ¨è–¦**ï¼šDay.js
- è¼•é‡ï¼ˆ~2KBï¼‰
- API é¡ä¼¼ Moment.js
- i18n æ”¯æ´

### 6.5 åœ–ç¤º

**æ¨è–¦**ï¼šElement Plus Icons
- èˆ‡ UI æ¡†æ¶æ•´åˆ
- æŒ‰éœ€å¼•å…¥
- å……è¶³çš„åœ–ç¤º

**å‚™é¸**ï¼šIconify
- è¶…é 10 è¬å€‹åœ–ç¤º
- å¤šå€‹åœ–ç¤ºé›†

---

## ç¸½çµèˆ‡å»ºè­°

### æœ€çµ‚æŠ€è¡“æ£§

| æŠ€è¡“ | é¸æ“‡ | åŸå›  |
|-----|------|------|
| **å‰ç«¯æ¡†æ¶** | Vue 3 | ç¾ä»£ã€é«˜æ•ˆ |
| **UI æ¡†æ¶** | Element Plus | ä¼æ¥­ç´šã€å®Œæ•´ |
| **CSS** | TailwindCSS | Utility-first |
| **ç‹€æ…‹ç®¡ç†** | Pinia | å®˜æ–¹æ¨è–¦ |
| **åœ–è¡¨** | ECharts | åŠŸèƒ½å¼·å¤§ |
| **éƒ¨ç½²** | Vercel | æœ€ä½³é«”é©— |
| **èªè¨€** | JavaScriptï¼ˆåˆæœŸï¼‰| å¿«é€Ÿé–‹ç™¼ |

### é›™å‘è¨Šæ¯æ–¹æ¡ˆ

âœ… **åœ¨ CRM å…§å»ºç™¼é€ä»‹é¢**
- å®Œæ•´è¨˜éŒ„é›™å‘è¨Šæ¯
- çµ±ä¸€å®¢æœä»‹é¢
- å¯æ“´å±•æ€§å¼·

### ä¸‹ä¸€æ­¥

1. **ç¢ºèªæŠ€è¡“é¸å‹**
   - Element Plus
   - Vercel
   - ECharts
   - JavaScript

2. **é–‹å§‹å»ºç«‹å°ˆæ¡ˆ**
   - åˆå§‹åŒ– Vue 3 å°ˆæ¡ˆ
   - å®‰è£ä¾è³´
   - è¨­å®šç’°å¢ƒ

3. **å¯¦ä½œç™¼é€åŠŸèƒ½**
   - è³‡æ–™åº«æ“´å±•
   - ç™¼é€ API
   - ç™¼é€ä»‹é¢

éœ€è¦æˆ‘å”åŠ©å»ºç«‹å°ˆæ¡ˆå—ï¼ŸğŸš€

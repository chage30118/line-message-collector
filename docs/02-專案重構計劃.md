# å°ˆæ¡ˆé‡æ§‹è¨ˆåŠƒ
# Vue3 + Supabase æ¶æ§‹é‡æ§‹

**æ–‡ä»¶ç‰ˆæœ¬**: 1.0
**å»ºç«‹æ—¥æœŸ**: 2025-11-05
**å°ˆæ¡ˆåç¨±**: LINE è¨Šæ¯è¨˜éŒ„èˆ‡ CRM ç³»çµ±

---

## ç›®éŒ„

1. [é‡æ§‹ç›®æ¨™](#1-é‡æ§‹ç›®æ¨™)
2. [ç›®å‰æ¶æ§‹åˆ†æ](#2-ç›®å‰æ¶æ§‹åˆ†æ)
3. [æ–°æ¶æ§‹è¨­è¨ˆ](#3-æ–°æ¶æ§‹è¨­è¨ˆ)
4. [æŠ€è¡“é¸å‹](#4-æŠ€è¡“é¸å‹)
5. [åŸ·è¡Œç­–ç•¥](#5-åŸ·è¡Œç­–ç•¥)
6. [éšæ®µæ€§è¨ˆåŠƒ](#6-éšæ®µæ€§è¨ˆåŠƒ)
7. [è³‡æ–™é·ç§»ç­–ç•¥](#7-è³‡æ–™é·ç§»ç­–ç•¥)
8. [åŠŸèƒ½èª¿æ•´å»ºè­°](#8-åŠŸèƒ½èª¿æ•´å»ºè­°)
9. [é¢¨éšªè©•ä¼°](#9-é¢¨éšªè©•ä¼°)
10. [æ™‚ç¨‹è¦åŠƒ](#10-æ™‚ç¨‹è¦åŠƒ)

---

## 1. é‡æ§‹ç›®æ¨™

### 1.1 æ ¸å¿ƒç›®æ¨™

**å¾**ï¼šNode.js + Express + Vanilla JS çš„ä¸‰å±¤æ¶æ§‹
**åˆ°**ï¼šVue3 SPA + Supabase Serverless çš„ç¾ä»£åŒ–æ¶æ§‹

**ä¸»è¦æ”¹è®Š**ï¼š
1. âœ… å‰ç«¯æ¡†æ¶ï¼šVanilla JS â†’ Vue3
2. âœ… å¾Œç«¯æ¶æ§‹ï¼šExpress API â†’ Supabase + Serverless Functions
3. âœ… éƒ¨ç½²æ–¹å¼ï¼šRender (Node.js) â†’ Vercel/Netlify (éœæ…‹ç¶²ç«™) + Supabase
4. âœ… åŠŸèƒ½å®šä½ï¼šå–®ç´”è¨Šæ¯æ”¶é›† â†’ è¨Šæ¯è¨˜éŒ„ + ç°¡å–® CRM

### 1.2 é æœŸæ•ˆç›Š

**æŠ€è¡“æ•ˆç›Š**ï¼š
- ğŸš€ æ›´å¿«çš„è¼‰å…¥é€Ÿåº¦ï¼ˆSPA + éœæ…‹éƒ¨ç½²ï¼‰
- ğŸ“± æ›´å¥½çš„ç”¨æˆ¶é«”é©—ï¼ˆVue3 éŸ¿æ‡‰å¼ï¼‰
- ğŸ’° é™ä½æˆæœ¬ï¼ˆç„¡éœ€ Node.js ä¼ºæœå™¨ï¼ŒServerless è¨ˆè²»ï¼‰
- ğŸ”§ æ›´å®¹æ˜“ç¶­è­·ï¼ˆVue å…ƒä»¶åŒ–é–‹ç™¼ï¼‰
- âš¡ å³æ™‚æ•¸æ“šæ›´æ–°ï¼ˆSupabase Realtimeï¼‰

**æ¥­å‹™æ•ˆç›Š**ï¼š
- ğŸ“Š å®Œæ•´çš„ CRM åŠŸèƒ½
- ğŸ¯ æ›´å¥½çš„å®¢æˆ¶ç®¡ç†é«”é©—
- ğŸ“ˆ æ•¸æ“šè¦–è¦ºåŒ–åˆ†æ
- ğŸ¤ åœ˜éšŠå”ä½œåŠŸèƒ½

---

## 2. ç›®å‰æ¶æ§‹åˆ†æ

### 2.1 ç›®å‰æŠ€è¡“æ£§

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              ç›®å‰æ¶æ§‹ (Monolithic)              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  å‰ç«¯å±¤                                         â”‚
â”‚  â”œâ”€ Vanilla JavaScript                         â”‚
â”‚  â”œâ”€ HTML/CSS                                    â”‚
â”‚  â””â”€ éœæ…‹æª”æ¡ˆ (public/)                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  å¾Œç«¯å±¤ (Node.js + Express)                     â”‚
â”‚  â”œâ”€ Webhook Handler (LINE)                     â”‚
â”‚  â”œâ”€ REST API (20+ ç«¯é»)                        â”‚
â”‚  â”œâ”€ æ¥­å‹™é‚è¼¯ (Services)                         â”‚
â”‚  â”œâ”€ æ§åˆ¶å™¨ (Controllers)                       â”‚
â”‚  â””â”€ æª”æ¡ˆè™•ç† (Multer)                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  è³‡æ–™å±¤ (Supabase)                              â”‚
â”‚  â”œâ”€ PostgreSQL è³‡æ–™åº«                           â”‚
â”‚  â”œâ”€ Storage (æª”æ¡ˆå„²å­˜)                          â”‚
â”‚  â””â”€ RPC å‡½æ•¸                                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â†“
      éƒ¨ç½²è‡³ Render.com
```

### 2.2 å¯ä¿ç•™çš„éƒ¨åˆ†

âœ… **è³‡æ–™åº«çµæ§‹**ï¼š
- `users` è¡¨ï¼ˆç”¨æˆ¶è³‡æ–™ï¼‰
- `messages` è¡¨ï¼ˆè¨Šæ¯è¨˜éŒ„ï¼‰
- `message_limits` è¡¨ï¼ˆç³»çµ±é™åˆ¶ï¼‰
- å·²ç¶“è¨­è¨ˆè‰¯å¥½ï¼Œå¯ç›´æ¥æ²¿ç”¨

âœ… **Supabase Storage**ï¼š
- æª”æ¡ˆå„²å­˜çµæ§‹å®Œæ•´
- åˆ†é¡æ¸…æ™°ï¼ˆimages/audio/video/documentsï¼‰
- å¯ç›´æ¥æ²¿ç”¨

âœ… **æ¥­å‹™é‚è¼¯**ï¼š
- LINE Webhook è™•ç†é‚è¼¯
- ç”¨æˆ¶ç®¡ç†é‚è¼¯
- ç¾¤çµ„åç¨±æ”¶é›†é‚è¼¯
- å¯è½‰æ›ç‚º Serverless Functions

### 2.3 éœ€è¦é‡æ§‹çš„éƒ¨åˆ†

âŒ **å‰ç«¯**ï¼š
- å®Œå…¨é‡å¯«ç‚º Vue3 SPA
- æ¡ç”¨å…ƒä»¶åŒ–è¨­è¨ˆ
- ä½¿ç”¨ Vue Router ç®¡ç†è·¯ç”±
- ä½¿ç”¨ Pinia ç‹€æ…‹ç®¡ç†

âŒ **å¾Œç«¯ API**ï¼š
- ç§»é™¤å¤§éƒ¨åˆ† Express API
- æ”¹ç”¨ Supabase Client SDK ç›´æ¥æŸ¥è©¢
- Webhook æ”¹ç‚º Serverless Function

âŒ **éƒ¨ç½²æ–¹å¼**ï¼š
- å¾ Render é·ç§»åˆ° Vercel/Netlify
- å‰ç«¯éœæ…‹éƒ¨ç½²
- Webhook ç”¨ Serverless Function

---

## 3. æ–°æ¶æ§‹è¨­è¨ˆ

### 3.1 æ•´é«”æ¶æ§‹åœ–

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    æ–°æ¶æ§‹ (Serverless)                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         LINE Platform                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ Messaging APIâ”‚  â”‚  Profile/Group   â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚                    â”‚
          â”‚ Webhook            â”‚ API Calls
          â–¼                    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Serverless Functions (Vercel/Netlify Functions)    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  /api/webhook.js (LINE Webhook Handler)      â”‚  â”‚
â”‚  â”‚  - æ¥æ”¶ LINE äº‹ä»¶                             â”‚  â”‚
â”‚  â”‚  - å‘¼å« LINE Profile/Group API                â”‚  â”‚
â”‚  â”‚  - å¯«å…¥ Supabase è³‡æ–™åº«                       â”‚  â”‚
â”‚  â”‚  - ä¸Šå‚³æª”æ¡ˆåˆ° Storage                         â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â”‚
                       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              Supabase Backend                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  PostgreSQL DB  â”‚  â”‚  Storage (S3-like)    â”‚    â”‚
â”‚  â”‚  - Row Level    â”‚  â”‚  - æª”æ¡ˆå„²å­˜            â”‚    â”‚
â”‚  â”‚    Security     â”‚  â”‚  - ç°½å URL            â”‚    â”‚
â”‚  â”‚  - Realtime     â”‚  â”‚                        â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â–²                           â–²
          â”‚ Supabase Client SDK       â”‚
          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚        Vue3 SPA (éœæ…‹éƒ¨ç½²è‡³ Vercel/Netlify)         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  å‰ç«¯æ‡‰ç”¨                                      â”‚  â”‚
â”‚  â”‚  â”œâ”€ Vue Router (è·¯ç”±ç®¡ç†)                     â”‚  â”‚
â”‚  â”‚  â”œâ”€ Pinia (ç‹€æ…‹ç®¡ç†)                          â”‚  â”‚
â”‚  â”‚  â”œâ”€ Supabase Client (è³‡æ–™æŸ¥è©¢)                â”‚  â”‚
â”‚  â”‚  â”œâ”€ TailwindCSS (æ¨£å¼)                        â”‚  â”‚
â”‚  â”‚  â””â”€ Element Plus / Ant Design Vue (UI åº«)    â”‚  â”‚
â”‚  â”‚                                                â”‚  â”‚
â”‚  â”‚  é é¢çµæ§‹ï¼š                                    â”‚  â”‚
â”‚  â”‚  â”œâ”€ å„€è¡¨æ¿ (Dashboard)                        â”‚  â”‚
â”‚  â”‚  â”œâ”€ è¨Šæ¯åˆ—è¡¨ (Messages)                       â”‚  â”‚
â”‚  â”‚  â”œâ”€ å®¢æˆ¶ç®¡ç† (Customers/CRM)                  â”‚  â”‚
â”‚  â”‚  â”œâ”€ çµ±è¨ˆåˆ†æ (Analytics)                      â”‚  â”‚
â”‚  â”‚  â””â”€ è¨­å®š (Settings)                           â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3.2 å‰ç«¯æ¶æ§‹è¨­è¨ˆ

#### å°ˆæ¡ˆçµæ§‹
```
line-crm-frontend/
â”œâ”€â”€ public/
â”‚   â””â”€â”€ favicon.ico
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ assets/              # éœæ…‹è³‡æº
â”‚   â”‚   â”œâ”€â”€ images/
â”‚   â”‚   â””â”€â”€ styles/
â”‚   â”‚       â””â”€â”€ main.css
â”‚   â”œâ”€â”€ components/          # å…±ç”¨å…ƒä»¶
â”‚   â”‚   â”œâ”€â”€ common/          # é€šç”¨å…ƒä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ AppHeader.vue
â”‚   â”‚   â”‚   â”œâ”€â”€ AppSidebar.vue
â”‚   â”‚   â”‚   â”œâ”€â”€ LoadingSpinner.vue
â”‚   â”‚   â”‚   â””â”€â”€ EmptyState.vue
â”‚   â”‚   â”œâ”€â”€ messages/        # è¨Šæ¯ç›¸é—œå…ƒä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ MessageList.vue
â”‚   â”‚   â”‚   â”œâ”€â”€ MessageItem.vue
â”‚   â”‚   â”‚   â”œâ”€â”€ MessageFilter.vue
â”‚   â”‚   â”‚   â””â”€â”€ MessageSearch.vue
â”‚   â”‚   â”œâ”€â”€ customers/       # å®¢æˆ¶ç›¸é—œå…ƒä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ CustomerList.vue
â”‚   â”‚   â”‚   â”œâ”€â”€ CustomerCard.vue
â”‚   â”‚   â”‚   â”œâ”€â”€ CustomerDetail.vue
â”‚   â”‚   â”‚   â””â”€â”€ CustomerForm.vue
â”‚   â”‚   â””â”€â”€ analytics/       # çµ±è¨ˆåœ–è¡¨å…ƒä»¶
â”‚   â”‚       â”œâ”€â”€ StatsCard.vue
â”‚   â”‚       â”œâ”€â”€ MessageChart.vue
â”‚   â”‚       â””â”€â”€ CustomerChart.vue
â”‚   â”œâ”€â”€ composables/         # Vue Composition API é‚è¼¯
â”‚   â”‚   â”œâ”€â”€ useMessages.js
â”‚   â”‚   â”œâ”€â”€ useCustomers.js
â”‚   â”‚   â”œâ”€â”€ useSupabase.js
â”‚   â”‚   â””â”€â”€ useAuth.js
â”‚   â”œâ”€â”€ layouts/             # ç‰ˆé¢é…ç½®
â”‚   â”‚   â”œâ”€â”€ DefaultLayout.vue
â”‚   â”‚   â””â”€â”€ AuthLayout.vue
â”‚   â”œâ”€â”€ router/              # è·¯ç”±é…ç½®
â”‚   â”‚   â””â”€â”€ index.js
â”‚   â”œâ”€â”€ stores/              # Pinia ç‹€æ…‹ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ messages.js
â”‚   â”‚   â”œâ”€â”€ customers.js
â”‚   â”‚   â”œâ”€â”€ auth.js
â”‚   â”‚   â””â”€â”€ ui.js
â”‚   â”œâ”€â”€ utils/               # å·¥å…·å‡½æ•¸
â”‚   â”‚   â”œâ”€â”€ supabase.js      # Supabase å®¢æˆ¶ç«¯
â”‚   â”‚   â”œâ”€â”€ formatters.js    # æ ¼å¼åŒ–å·¥å…·
â”‚   â”‚   â””â”€â”€ validators.js    # é©—è­‰å·¥å…·
â”‚   â”œâ”€â”€ views/               # é é¢å…ƒä»¶
â”‚   â”‚   â”œâ”€â”€ Dashboard.vue
â”‚   â”‚   â”œâ”€â”€ Messages.vue
â”‚   â”‚   â”œâ”€â”€ Customers.vue
â”‚   â”‚   â”œâ”€â”€ Analytics.vue
â”‚   â”‚   â”œâ”€â”€ Settings.vue
â”‚   â”‚   â””â”€â”€ Login.vue
â”‚   â”œâ”€â”€ App.vue              # æ ¹å…ƒä»¶
â”‚   â””â”€â”€ main.js              # æ‡‰ç”¨å…¥å£
â”œâ”€â”€ .env.example             # ç’°å¢ƒè®Šæ•¸ç¯„æœ¬
â”œâ”€â”€ .gitignore
â”œâ”€â”€ package.json
â”œâ”€â”€ vite.config.js           # Vite é…ç½®
â”œâ”€â”€ tailwind.config.js       # TailwindCSS é…ç½®
â””â”€â”€ README.md
```

#### æ ¸å¿ƒå…ƒä»¶è¨­è¨ˆ

**1. å„€è¡¨æ¿ (Dashboard.vue)**
```vue
<template>
  <div class="dashboard">
    <!-- çµ±è¨ˆå¡ç‰‡ -->
    <div class="stats-grid">
      <StatsCard title="ç¸½è¨Šæ¯æ•¸" :value="stats.totalMessages" icon="message" />
      <StatsCard title="å®¢æˆ¶æ•¸é‡" :value="stats.totalCustomers" icon="users" />
      <StatsCard title="ä»Šæ—¥è¨Šæ¯" :value="stats.todayMessages" icon="today" />
      <StatsCard title="æ´»èºå®¢æˆ¶" :value="stats.activeCustomers" icon="active" />
    </div>

    <!-- åœ–è¡¨å€åŸŸ -->
    <div class="charts-section">
      <MessageChart :data="messageChartData" />
      <CustomerChart :data="customerChartData" />
    </div>

    <!-- æœ€è¿‘è¨Šæ¯ -->
    <div class="recent-messages">
      <h2>æœ€è¿‘è¨Šæ¯</h2>
      <MessageList :messages="recentMessages" :limit="10" />
    </div>
  </div>
</template>
```

**2. å®¢æˆ¶ç®¡ç† (Customers.vue)**
```vue
<template>
  <div class="customers-page">
    <!-- æœå°‹å’Œç¯©é¸ -->
    <div class="toolbar">
      <el-input v-model="searchQuery" placeholder="æœå°‹å®¢æˆ¶..." />
      <el-select v-model="filterStatus" placeholder="ç‹€æ…‹">
        <el-option label="å…¨éƒ¨" value="all" />
        <el-option label="æ´»èº" value="active" />
        <el-option label="æœªè¨­å®šå§“å" value="unnamed" />
      </el-select>
      <el-button @click="openCreateDialog">æ–°å¢å®¢æˆ¶</el-button>
    </div>

    <!-- å®¢æˆ¶åˆ—è¡¨ -->
    <div class="customer-grid">
      <CustomerCard
        v-for="customer in filteredCustomers"
        :key="customer.id"
        :customer="customer"
        @click="openCustomerDetail(customer)"
      />
    </div>

    <!-- å®¢æˆ¶è©³æƒ…å´é‚Šæ¬„ -->
    <el-drawer v-model="showDetail" size="50%">
      <CustomerDetail :customer="selectedCustomer" />
    </el-drawer>
  </div>
</template>
```

**3. è¨Šæ¯åˆ—è¡¨ (Messages.vue)**
```vue
<template>
  <div class="messages-page">
    <!-- ç¯©é¸å’Œæœå°‹ -->
    <MessageFilter v-model:filters="filters" />

    <!-- è¨Šæ¯åˆ—è¡¨ -->
    <div class="message-timeline">
      <MessageItem
        v-for="message in messages"
        :key="message.id"
        :message="message"
      />
    </div>

    <!-- ç„¡é™æ»¾å‹•è¼‰å…¥ -->
    <div v-if="hasMore" ref="loadMoreTrigger">è¼‰å…¥æ›´å¤š...</div>
  </div>
</template>
```

### 3.3 å¾Œç«¯æ¶æ§‹è¨­è¨ˆ

#### Serverless Functions

**ç›®éŒ„çµæ§‹**ï¼š
```
line-crm-frontend/
â”œâ”€â”€ api/                     # Serverless Functions (Vercel)
â”‚   â””â”€â”€ webhook.js           # LINE Webhook Handler
â””â”€â”€ netlify/functions/       # æˆ– Netlify Functions
    â””â”€â”€ webhook.js
```

**Webhook Function ç¯„ä¾‹** (`api/webhook.js`):
```javascript
// Vercel Serverless Function
import { createClient } from '@supabase/supabase-js';
import { Client } from '@line/bot-sdk';
import crypto from 'crypto';

const supabase = createClient(
  process.env.SUPABASE_URL,
  process.env.SUPABASE_SERVICE_KEY
);

const lineClient = new Client({
  channelAccessToken: process.env.LINE_CHANNEL_ACCESS_TOKEN,
  channelSecret: process.env.LINE_CHANNEL_SECRET
});

export default async function handler(req, res) {
  // åƒ…æ¥å— POST è«‹æ±‚
  if (req.method !== 'POST') {
    return res.status(405).json({ error: 'Method not allowed' });
  }

  try {
    // é©—è­‰ LINE ç°½ç« 
    const signature = req.headers['x-line-signature'];
    const body = JSON.stringify(req.body);

    if (!validateSignature(body, signature)) {
      return res.status(401).json({ error: 'Invalid signature' });
    }

    // è™•ç†äº‹ä»¶
    const events = req.body.events;
    await Promise.all(events.map(handleEvent));

    return res.status(200).json({ message: 'OK' });
  } catch (error) {
    console.error('Webhook error:', error);
    return res.status(500).json({ error: 'Internal server error' });
  }
}

async function handleEvent(event) {
  if (event.type !== 'message') return;

  const { userId } = event.source;
  const message = event.message;

  // 1. æª¢æŸ¥é™åˆ¶
  const canAccept = await checkLimits(userId);
  if (!canAccept) return;

  // 2. ç²å–/å»ºç«‹ç”¨æˆ¶
  const user = await getOrCreateUser(userId, event.source);

  // 3. è™•ç†è¨Šæ¯
  await processMessage(user, message, event);
}

async function getOrCreateUser(lineUserId, source) {
  // æŸ¥è©¢ç”¨æˆ¶æ˜¯å¦å­˜åœ¨
  const { data: existingUser } = await supabase
    .from('users')
    .select('*')
    .eq('line_user_id', lineUserId)
    .single();

  if (existingUser) {
    return existingUser;
  }

  // ç²å– LINE Profile
  const profile = await lineClient.getProfile(lineUserId);

  // å¦‚æœæ˜¯ç¾¤çµ„ï¼Œç²å–ç¾¤çµ„åç¨±
  let groupName = null;
  if (source.type === 'group') {
    const groupSummary = await lineClient.getGroupSummary(source.groupId);
    groupName = groupSummary.groupName;
  }

  // å»ºç«‹æ–°ç”¨æˆ¶
  const { data: newUser } = await supabase
    .from('users')
    .insert({
      line_user_id: lineUserId,
      display_name: profile.displayName,
      picture_url: profile.pictureUrl,
      status_message: profile.statusMessage,
      language: profile.language,
      group_display_name: groupName,
      first_message_at: new Date().toISOString()
    })
    .select()
    .single();

  return newUser;
}

async function processMessage(user, message, event) {
  const messageData = {
    line_message_id: message.id,
    user_id: user.id,
    message_type: message.type,
    timestamp: new Date(event.timestamp).toISOString()
  };

  // è™•ç†ä¸åŒé¡å‹çš„è¨Šæ¯
  if (message.type === 'text') {
    messageData.text_content = message.text;
  } else if (['image', 'video', 'audio', 'file'].includes(message.type)) {
    // ä¸‹è¼‰ä¸¦ä¸Šå‚³æª”æ¡ˆåˆ° Supabase Storage
    const fileData = await downloadAndUploadFile(message.id, message.type);
    Object.assign(messageData, fileData);
  }

  // å„²å­˜è¨Šæ¯
  await supabase.from('messages').insert(messageData);

  // æ›´æ–°ç”¨æˆ¶æœ€å¾Œè¨Šæ¯æ™‚é–“
  await supabase
    .from('users')
    .update({
      last_message_at: messageData.timestamp,
      message_count: user.message_count + 1
    })
    .eq('id', user.id);
}

function validateSignature(body, signature) {
  const hash = crypto
    .createHmac('SHA256', process.env.LINE_CHANNEL_SECRET)
    .update(body)
    .digest('base64');
  return hash === signature;
}
```

#### Supabase é…ç½®

**Row Level Security (RLS) æ”¿ç­–**ï¼š

```sql
-- å•Ÿç”¨ RLS
ALTER TABLE users ENABLE ROW LEVEL SECURITY;
ALTER TABLE messages ENABLE ROW LEVEL SECURITY;

-- å…è¨±å·²é©—è­‰ç”¨æˆ¶è®€å–æ‰€æœ‰è³‡æ–™
CREATE POLICY "Allow authenticated read users"
ON users FOR SELECT
TO authenticated
USING (true);

CREATE POLICY "Allow authenticated read messages"
ON messages FOR SELECT
TO authenticated
USING (true);

-- å…è¨±æœå‹™è§’è‰²å®Œå…¨å­˜å–ï¼ˆWebhook Function ä½¿ç”¨ï¼‰
CREATE POLICY "Allow service role all access users"
ON users FOR ALL
TO service_role
USING (true);

CREATE POLICY "Allow service role all access messages"
ON messages FOR ALL
TO service_role
USING (true);

-- å…è¨±å·²é©—è­‰ç”¨æˆ¶æ›´æ–°å®¢æˆ¶å§“å
CREATE POLICY "Allow authenticated update customer name"
ON users FOR UPDATE
TO authenticated
USING (true)
WITH CHECK (true);
```

**Realtime è¨‚é–±**ï¼š

```sql
-- å•Ÿç”¨ Realtime
ALTER PUBLICATION supabase_realtime ADD TABLE messages;
ALTER PUBLICATION supabase_realtime ADD TABLE users;
```

---

## 4. æŠ€è¡“é¸å‹

### 4.1 å‰ç«¯æŠ€è¡“æ£§

| æŠ€è¡“ | é¸æ“‡ | åŸå›  |
|-----|------|------|
| **æ¡†æ¶** | Vue 3 (Composition API) | - è¼•é‡ã€å­¸ç¿’æ›²ç·šå¹³ç·©<br>- Composition API æä¾›æ›´å¥½çš„é‚è¼¯è¤‡ç”¨<br>- å„ªç§€çš„éŸ¿æ‡‰å¼ç³»çµ± |
| **å»ºç½®å·¥å…·** | Vite | - æ¥µå¿«çš„å†·å•Ÿå‹•<br>- HMR å³æ™‚æ›´æ–°<br>- å„ªåŒ–çš„ç”Ÿç”¢å»ºç½® |
| **ç‹€æ…‹ç®¡ç†** | Pinia | - Vue 3 å®˜æ–¹æ¨è–¦<br>- TypeScript æ”¯æ´ä½³<br>- è¼•é‡ç°¡æ½” |
| **è·¯ç”±** | Vue Router 4 | - Vue å®˜æ–¹è·¯ç”±<br>- æ”¯æ´ Composition API |
| **UI æ¡†æ¶** | Element Plus æˆ– Ant Design Vue | - å®Œæ•´çš„å…ƒä»¶åº«<br>- ç¹é«”ä¸­æ–‡æ”¯æ´<br>- é©åˆä¼æ¥­æ‡‰ç”¨ |
| **CSS æ¡†æ¶** | TailwindCSS | - Utility-first<br>- é«˜åº¦å®¢è£½åŒ–<br>- å°é«”ç© |
| **åœ–è¡¨** | ECharts æˆ– Chart.js | - å¼·å¤§çš„è¦–è¦ºåŒ–åŠŸèƒ½<br>- è±å¯Œçš„åœ–è¡¨é¡å‹ |
| **HTTP å®¢æˆ¶ç«¯** | Supabase Client SDK | - ç›´æ¥æ•´åˆ Supabase<br>- å…§å»º Realtime<br>- ç„¡éœ€é¡å¤– API |

### 4.2 å¾Œç«¯æŠ€è¡“æ£§

| æŠ€è¡“ | é¸æ“‡ | åŸå›  |
|-----|------|------|
| **è³‡æ–™åº«** | Supabase (PostgreSQL) | - å·²ç¶“åœ¨ä½¿ç”¨<br>- å…§å»º Realtime<br>- Row Level Security |
| **æª”æ¡ˆå„²å­˜** | Supabase Storage | - å·²ç¶“åœ¨ä½¿ç”¨<br>- S3 ç›¸å®¹ API<br>- ç°½å URL æ”¯æ´ |
| **Webhook** | Vercel Serverless Functions | - é›¶ç¶­è­·<br>- æŒ‰éœ€è¨ˆè²»<br>- è‡ªå‹•æ“´å±• |
| **LINE SDK** | @line/bot-sdk | - å®˜æ–¹ SDK<br>- æŒçºŒç¶­è­· |

### 4.3 éƒ¨ç½²å¹³å°

| æœå‹™ | é¸æ“‡ | åŸå›  |
|-----|------|------|
| **å‰ç«¯** | Vercel æˆ– Netlify | - å…è²»æ–¹æ¡ˆå„ªæ¸¥<br>- è‡ªå‹•éƒ¨ç½²<br>- CDN åŠ é€Ÿ<br>- Serverless Functions |
| **è³‡æ–™åº«** | Supabase | - å…è²» 500MB<br>- è‡ªå‹•å‚™ä»½ï¼ˆä»˜è²»ï¼‰<br>- Realtime åŠŸèƒ½ |
| **ç›£æ§** | Sentry (é¸é…) | - éŒ¯èª¤è¿½è¹¤<br>- æ•ˆèƒ½ç›£æ§ |

---

## 5. åŸ·è¡Œç­–ç•¥

### 5.1 å»ºè­°æ¡ç”¨ï¼šæ¼¸é€²å¼é‡æ§‹

**ç­–ç•¥èªªæ˜**ï¼š
ä¸è¦ä¸€æ¬¡æ€§å…¨éƒ¨é‡æ§‹ï¼Œè€Œæ˜¯æ¡ç”¨ä¸¦è¡Œé–‹ç™¼ã€é€æ­¥é·ç§»çš„æ–¹å¼ã€‚

**å„ªå‹¢**ï¼š
- âœ… é™ä½é¢¨éšªï¼šèˆŠç³»çµ±æŒçºŒé‹ä½œ
- âœ… å¿«é€Ÿé©—è­‰ï¼šæ–°åŠŸèƒ½å¯ä»¥å…ˆä¸Šç·šæ¸¬è©¦
- âœ… å¹³æ»‘éæ¸¡ï¼šç”¨æˆ¶ç„¡æ„Ÿåˆ‡æ›
- âœ… æŒçºŒäº¤ä»˜ï¼šä¸éœ€è¦ç­‰å…¨éƒ¨å®Œæˆæ‰ä¸Šç·š

### 5.2 ä¸‰ç¨®åŸ·è¡Œæ–¹å¼æ¯”è¼ƒ

#### æ–¹æ¡ˆ Aï¼šå®Œå…¨é‡å¯«ï¼ˆBig Bangï¼‰

**æµç¨‹**ï¼š
```
åœæ­¢èˆŠç³»çµ±é–‹ç™¼ â†’ å»ºç«‹æ–°å°ˆæ¡ˆ â†’ å®Œæ•´é–‹ç™¼ â†’ è³‡æ–™é·ç§» â†’ ä¸€æ¬¡æ€§åˆ‡æ›
```

**å„ªé»**ï¼š
- æ¶æ§‹æœ€ä¹¾æ·¨
- ç„¡æŠ€è¡“å‚µå‹™
- å¯ä»¥å®Œå…¨é‡æ–°è¨­è¨ˆ

**ç¼ºé»**ï¼š
- âŒ é¢¨éšªæ¥µé«˜
- âŒ é–‹ç™¼æ™‚é–“é•·ï¼ˆ2-3 å€‹æœˆï¼‰
- âŒ èˆŠç³»çµ±åœæ­¢æ¼”é€²
- âŒ ä¸€æ¬¡æ€§åˆ‡æ›é¢¨éšªå¤§

**é©ç”¨æƒ…å¢ƒ**ï¼š
- èˆŠç³»çµ±å•é¡Œåš´é‡ï¼Œç„¡æ³•ç¹¼çºŒä½¿ç”¨
- æœ‰å……è¶³çš„é–‹ç™¼æ™‚é–“
- å¯ä»¥æ¥å—åœæ©Ÿé¢¨éšª

#### æ–¹æ¡ˆ Bï¼šä¸¦è¡Œé–‹ç™¼ã€é€æ­¥é·ç§»ï¼ˆæ¨è–¦ï¼‰â­

**æµç¨‹**ï¼š
```
å»ºç«‹æ–°å°ˆæ¡ˆ â†’ å…ˆåšæ ¸å¿ƒåŠŸèƒ½ â†’ é›™ç³»çµ±ä¸¦è¡Œ â†’ é€æ­¥é·ç§»ç”¨æˆ¶ â†’ é—œé–‰èˆŠç³»çµ±
```

**å„ªé»**ï¼š
- âœ… é¢¨éšªå¯æ§
- âœ… å¯ä»¥é€æ­¥é©—è­‰
- âœ… ç”¨æˆ¶å¹³æ»‘éæ¸¡
- âœ… èˆŠç³»çµ±å¯æŒçºŒç¶­è­·

**ç¼ºé»**ï¼š
- éœ€è¦ç¶­è­·å…©å¥—ç³»çµ±ï¼ˆçŸ­æœŸï¼‰
- éœ€è¦è³‡æ–™åŒæ­¥æ©Ÿåˆ¶
- é–‹ç™¼è¤‡é›œåº¦ç¨é«˜

**é©ç”¨æƒ…å¢ƒ**ï¼š
- ç”Ÿç”¢ç’°å¢ƒä¸èƒ½ä¸­æ–·
- éœ€è¦é©—è­‰æ–°æ¶æ§‹
- æœ‰å……è¶³çš„è³‡æº

#### æ–¹æ¡ˆ Cï¼šæ··åˆæ¨¡å¼ï¼ˆä¿ç•™å¾Œç«¯ï¼Œåªé‡æ§‹å‰ç«¯ï¼‰

**æµç¨‹**ï¼š
```
ä¿ç•™ Express API â†’ é‡æ§‹å‰ç«¯ç‚º Vue3 â†’ é€æ­¥èª¿æ•´ API â†’ æœ€å¾Œç§»é™¤ Express
```

**å„ªé»**ï¼š
- é¢¨éšªæœ€ä½
- é–‹ç™¼é€Ÿåº¦å¿«
- API å¯ç¹¼çºŒä½¿ç”¨

**ç¼ºé»**ï¼š
- ç„¡æ³•ç™¼æ® Supabase ç›´é€£å„ªå‹¢
- ä»éœ€ç¶­è­· Node.js ä¼ºæœå™¨
- æˆæœ¬é™ä½æœ‰é™

**é©ç”¨æƒ…å¢ƒ**ï¼š
- æ™‚é–“ç·Šè¿«
- ä¸»è¦æƒ³æ”¹å–„å‰ç«¯é«”é©—
- ä¸æƒ³å‹•å¾Œç«¯é‚è¼¯

### 5.3 æ¨è–¦æ–¹æ¡ˆï¼šæ–¹æ¡ˆ Bï¼ˆä¸¦è¡Œé–‹ç™¼ã€é€æ­¥é·ç§»ï¼‰

**ç†ç”±**ï¼š
1. å¹³è¡¡é¢¨éšªå’Œæ•ˆç›Š
2. å¯ä»¥å¿«é€Ÿä¸Šç·šæ ¸å¿ƒåŠŸèƒ½
3. ä¿æŒèˆŠç³»çµ±ç©©å®šé‹è¡Œ
4. ç”¨æˆ¶å¯ä»¥é¸æ“‡ä½¿ç”¨æ–°æˆ–èˆŠç³»çµ±
5. æœ‰å•é¡Œå¯ä»¥å¿«é€Ÿå›æ»¾

---

## 6. éšæ®µæ€§è¨ˆåŠƒ

### éšæ®µ 0ï¼šæº–å‚™éšæ®µï¼ˆ1 é€±ï¼‰

**ç›®æ¨™**ï¼šå®ŒæˆæŠ€è¡“é¸å‹å’Œç’°å¢ƒæº–å‚™

**ä»»å‹™æ¸…å–®**ï¼š
- [ ] ç¢ºå®šæŠ€è¡“æ£§ï¼ˆVue3 + Element Plus + TailwindCSSï¼‰
- [ ] å»ºç«‹æ–°å°ˆæ¡ˆ Repository
- [ ] è¨­å®šé–‹ç™¼ç’°å¢ƒ
- [ ] å®‰è£å¿…è¦ä¾è³´
- [ ] é…ç½® Vite + Vue3 + TailwindCSS
- [ ] è¨­å®š ESLint + Prettier
- [ ] å»ºç«‹å°ˆæ¡ˆç›®éŒ„çµæ§‹
- [ ] é…ç½® Supabase å®¢æˆ¶ç«¯
- [ ] è¨­å®šç’°å¢ƒè®Šæ•¸

**äº¤ä»˜ç‰©**ï¼š
- æ–°å°ˆæ¡ˆéª¨æ¶ï¼ˆå¯é‹è¡Œçš„ç©ºç™½ Vue3 æ‡‰ç”¨ï¼‰
- é–‹ç™¼ç’°å¢ƒé…ç½®å®Œæˆ
- å°ˆæ¡ˆæ–‡ä»¶ï¼ˆREADME.mdï¼‰

---

### éšæ®µ 1ï¼šæ ¸å¿ƒåŠŸèƒ½é–‹ç™¼ï¼ˆ2-3 é€±ï¼‰

**ç›®æ¨™**ï¼šå®ŒæˆåŸºç¤åŠŸèƒ½ï¼Œå¯ä»¥æŸ¥çœ‹è¨Šæ¯å’Œå®¢æˆ¶

#### 1.1 åŸºç¤å»ºè¨­ï¼ˆ3 å¤©ï¼‰

**ä»»å‹™**ï¼š
- [ ] å»ºç«‹ Supabase Client å·¥å…·
- [ ] å¯¦ä½œè·¯ç”±é…ç½®ï¼ˆVue Routerï¼‰
- [ ] å»ºç«‹ Layout å…ƒä»¶ï¼ˆHeader, Sidebarï¼‰
- [ ] å¯¦ä½œ Pinia Storesï¼ˆmessages, customers, authï¼‰
- [ ] å»ºç«‹å…±ç”¨å…ƒä»¶ï¼ˆLoadingSpinner, EmptyState, etcï¼‰

**ç¨‹å¼ç¢¼ç¯„ä¾‹**ï¼š
```javascript
// src/utils/supabase.js
import { createClient } from '@supabase/supabase-js';

export const supabase = createClient(
  import.meta.env.VITE_SUPABASE_URL,
  import.meta.env.VITE_SUPABASE_ANON_KEY
);
```

```javascript
// src/stores/messages.js
import { defineStore } from 'pinia';
import { supabase } from '@/utils/supabase';

export const useMessagesStore = defineStore('messages', {
  state: () => ({
    messages: [],
    loading: false,
    filters: {
      type: 'all',
      userId: null,
      dateRange: null
    }
  }),

  actions: {
    async fetchMessages({ limit = 100, offset = 0 } = {}) {
      this.loading = true;
      try {
        let query = supabase
          .from('messages')
          .select(`
            *,
            user:users(*)
          `)
          .order('timestamp', { ascending: false })
          .range(offset, offset + limit - 1);

        // æ‡‰ç”¨ç¯©é¸
        if (this.filters.type !== 'all') {
          query = query.eq('message_type', this.filters.type);
        }

        if (this.filters.userId) {
          query = query.eq('user_id', this.filters.userId);
        }

        const { data, error } = await query;

        if (error) throw error;
        this.messages = data;
      } catch (error) {
        console.error('Error fetching messages:', error);
      } finally {
        this.loading = false;
      }
    },

    async subscribeToMessages() {
      // Realtime è¨‚é–±
      supabase
        .channel('messages')
        .on('postgres_changes',
          { event: 'INSERT', schema: 'public', table: 'messages' },
          (payload) => {
            this.messages.unshift(payload.new);
          }
        )
        .subscribe();
    }
  }
});
```

#### 1.2 è¨Šæ¯åˆ—è¡¨åŠŸèƒ½ï¼ˆ5 å¤©ï¼‰

**ä»»å‹™**ï¼š
- [ ] å¯¦ä½œè¨Šæ¯åˆ—è¡¨é é¢
- [ ] å¯¦ä½œè¨Šæ¯ç¯©é¸ï¼ˆé¡å‹ã€ç”¨æˆ¶ã€æ—¥æœŸï¼‰
- [ ] å¯¦ä½œè¨Šæ¯æœå°‹ï¼ˆå…¨æ–‡æœå°‹ï¼‰
- [ ] å¯¦ä½œç„¡é™æ»¾å‹•è¼‰å…¥
- [ ] å¯¦ä½œ Realtime å³æ™‚æ›´æ–°
- [ ] å¯¦ä½œæª”æ¡ˆé è¦½å’Œä¸‹è¼‰

**é é¢è¨­è¨ˆ**ï¼š
```vue
<!-- src/views/Messages.vue -->
<template>
  <div class="messages-page">
    <div class="page-header">
      <h1>è¨Šæ¯åˆ—è¡¨</h1>
      <div class="actions">
        <el-input
          v-model="searchQuery"
          placeholder="æœå°‹è¨Šæ¯..."
          prefix-icon="Search"
        />
        <el-select v-model="filters.type" placeholder="è¨Šæ¯é¡å‹">
          <el-option label="å…¨éƒ¨" value="all" />
          <el-option label="æ–‡å­—" value="text" />
          <el-option label="åœ–ç‰‡" value="image" />
          <el-option label="æª”æ¡ˆ" value="file" />
        </el-select>
      </div>
    </div>

    <div v-loading="loading" class="message-list">
      <MessageItem
        v-for="message in filteredMessages"
        :key="message.id"
        :message="message"
        @click="openMessageDetail(message)"
      />

      <div v-if="hasMore" ref="loadMoreTrigger" class="load-more">
        è¼‰å…¥æ›´å¤š...
      </div>
    </div>

    <el-empty v-if="!loading && messages.length === 0" description="æš«ç„¡è¨Šæ¯" />
  </div>
</template>

<script setup>
import { ref, computed, onMounted, onUnmounted } from 'vue';
import { useMessagesStore } from '@/stores/messages';
import { useIntersectionObserver } from '@vueuse/core';
import MessageItem from '@/components/messages/MessageItem.vue';

const messagesStore = useMessagesStore();
const loadMoreTrigger = ref(null);
const searchQuery = ref('');

const messages = computed(() => messagesStore.messages);
const loading = computed(() => messagesStore.loading);
const filters = computed(() => messagesStore.filters);

const filteredMessages = computed(() => {
  if (!searchQuery.value) return messages.value;

  const query = searchQuery.value.toLowerCase();
  return messages.value.filter(msg =>
    msg.text_content?.toLowerCase().includes(query) ||
    msg.user?.display_name?.toLowerCase().includes(query) ||
    msg.user?.group_display_name?.toLowerCase().includes(query)
  );
});

// ç„¡é™æ»¾å‹•
const { stop } = useIntersectionObserver(
  loadMoreTrigger,
  ([{ isIntersecting }]) => {
    if (isIntersecting && hasMore.value) {
      loadMore();
    }
  }
);

onMounted(() => {
  messagesStore.fetchMessages();
  messagesStore.subscribeToMessages(); // Realtime
});

onUnmounted(() => {
  stop();
});
</script>
```

#### 1.3 å®¢æˆ¶ç®¡ç†åŠŸèƒ½ï¼ˆ5 å¤©ï¼‰

**ä»»å‹™**ï¼š
- [ ] å¯¦ä½œå®¢æˆ¶åˆ—è¡¨é é¢
- [ ] å¯¦ä½œå®¢æˆ¶å¡ç‰‡å…ƒä»¶
- [ ] å¯¦ä½œå®¢æˆ¶è©³æƒ…å´é‚Šæ¬„
- [ ] å¯¦ä½œå®¢æˆ¶å§“åç·¨è¼¯
- [ ] å¯¦ä½œå®¢æˆ¶æœå°‹å’Œç¯©é¸
- [ ] å¯¦ä½œæ‰¹é‡æ“ä½œ

**é é¢è¨­è¨ˆ**ï¼š
```vue
<!-- src/views/Customers.vue -->
<template>
  <div class="customers-page">
    <div class="page-header">
      <h1>å®¢æˆ¶ç®¡ç†</h1>
      <div class="actions">
        <el-input
          v-model="searchQuery"
          placeholder="æœå°‹å®¢æˆ¶..."
        />
        <el-select v-model="filterStatus">
          <el-option label="å…¨éƒ¨" value="all" />
          <el-option label="æœªè¨­å®šå§“å" value="unnamed" />
          <el-option label="æ´»èºå®¢æˆ¶" value="active" />
        </el-select>
        <el-button type="primary" @click="exportCustomers">
          åŒ¯å‡ºå®¢æˆ¶
        </el-button>
      </div>
    </div>

    <div v-loading="loading" class="customer-grid">
      <CustomerCard
        v-for="customer in filteredCustomers"
        :key="customer.id"
        :customer="customer"
        @click="openCustomerDetail(customer)"
        @update="handleCustomerUpdate"
      />
    </div>

    <!-- å®¢æˆ¶è©³æƒ…æŠ½å±œ -->
    <el-drawer
      v-model="showDetail"
      size="50%"
      title="å®¢æˆ¶è©³æƒ…"
    >
      <CustomerDetail
        v-if="selectedCustomer"
        :customer="selectedCustomer"
        @close="showDetail = false"
      />
    </el-drawer>
  </div>
</template>
```

---

### éšæ®µ 2ï¼šWebhook é·ç§»ï¼ˆ1 é€±ï¼‰

**ç›®æ¨™**ï¼šå°‡ LINE Webhook é·ç§»åˆ° Serverless Function

#### 2.1 å»ºç«‹ Serverless Functionï¼ˆ2 å¤©ï¼‰

**ä»»å‹™**ï¼š
- [ ] å»ºç«‹ `/api/webhook.js` æˆ– `netlify/functions/webhook.js`
- [ ] å¯¦ä½œ LINE ç°½ç« é©—è­‰
- [ ] å¯¦ä½œäº‹ä»¶è™•ç†é‚è¼¯
- [ ] å¯¦ä½œç”¨æˆ¶å»ºç«‹/æ›´æ–°
- [ ] å¯¦ä½œè¨Šæ¯å„²å­˜
- [ ] å¯¦ä½œæª”æ¡ˆä¸Šå‚³

**éƒ¨ç½²é…ç½®**ï¼š
```javascript
// vercel.json (Vercel)
{
  "functions": {
    "api/webhook.js": {
      "maxDuration": 10
    }
  }
}
```

```toml
# netlify.toml (Netlify)
[functions]
  directory = "netlify/functions"

[[redirects]]
  from = "/api/webhook"
  to = "/.netlify/functions/webhook"
  status = 200
```

#### 2.2 æ¸¬è©¦å’Œé©—è­‰ï¼ˆ2 å¤©ï¼‰

**ä»»å‹™**ï¼š
- [ ] æœ¬åœ°æ¸¬è©¦ Webhook Function
- [ ] éƒ¨ç½²åˆ°æ¸¬è©¦ç’°å¢ƒ
- [ ] åœ¨ LINE Developer Console æ›´æ–° Webhook URL
- [ ] é©—è­‰è¨Šæ¯æ¥æ”¶æ­£å¸¸
- [ ] é©—è­‰æª”æ¡ˆä¸Šå‚³æ­£å¸¸
- [ ] é©—è­‰ç¾¤çµ„åç¨±æ”¶é›†æ­£å¸¸

**æ¸¬è©¦å·¥å…·**ï¼š
```bash
# ä½¿ç”¨ ngrok æ¸¬è©¦æœ¬åœ° Webhook
npx ngrok http 3000

# ä½¿ç”¨ Vercel CLI æœ¬åœ°æ¸¬è©¦
vercel dev

# ä½¿ç”¨ Netlify CLI æœ¬åœ°æ¸¬è©¦
netlify dev
```

#### 2.3 ç›£æ§å’Œé™¤éŒ¯ï¼ˆ1 å¤©ï¼‰

**ä»»å‹™**ï¼š
- [ ] è¨­å®šéŒ¯èª¤æ—¥èªŒæ”¶é›†ï¼ˆSentryï¼‰
- [ ] è¨­å®š Webhook å¤±æ•—é€šçŸ¥
- [ ] ç›£æ§ Function åŸ·è¡Œæ™‚é–“
- [ ] å„ªåŒ–æ•ˆèƒ½ç“¶é ¸

---

### éšæ®µ 3ï¼šé€²éšåŠŸèƒ½é–‹ç™¼ï¼ˆ2 é€±ï¼‰

**ç›®æ¨™**ï¼šå®Œæˆ CRM åŠŸèƒ½å’Œçµ±è¨ˆåˆ†æ

#### 3.1 å„€è¡¨æ¿å’Œçµ±è¨ˆï¼ˆ3 å¤©ï¼‰

**ä»»å‹™**ï¼š
- [ ] å»ºç«‹å„€è¡¨æ¿é é¢
- [ ] å¯¦ä½œçµ±è¨ˆå¡ç‰‡å…ƒä»¶
- [ ] æ•´åˆ ECharts åœ–è¡¨åº«
- [ ] å¯¦ä½œè¨Šæ¯è¶¨å‹¢åœ–
- [ ] å¯¦ä½œå®¢æˆ¶æˆé•·åœ–
- [ ] å¯¦ä½œè¨Šæ¯é¡å‹åˆ†å¸ƒåœ–

**åœ–è¡¨ç¯„ä¾‹**ï¼š
```vue
<!-- src/components/analytics/MessageChart.vue -->
<template>
  <div class="chart-container">
    <h3>è¨Šæ¯è¶¨å‹¢ï¼ˆéå» 30 å¤©ï¼‰</h3>
    <div ref="chartRef" style="height: 300px"></div>
  </div>
</template>

<script setup>
import { ref, onMounted, watch } from 'vue';
import * as echarts from 'echarts';

const props = defineProps({
  data: Array
});

const chartRef = ref(null);
let chart = null;

onMounted(() => {
  chart = echarts.init(chartRef.value);
  updateChart();
});

watch(() => props.data, updateChart);

function updateChart() {
  const option = {
    xAxis: {
      type: 'category',
      data: props.data.map(d => d.date)
    },
    yAxis: {
      type: 'value'
    },
    series: [{
      data: props.data.map(d => d.count),
      type: 'line',
      smooth: true
    }]
  };

  chart.setOption(option);
}
</script>
```

#### 3.2 CRM åŠŸèƒ½ï¼ˆ4 å¤©ï¼‰

**ä»»å‹™**ï¼š
- [ ] å®¢æˆ¶æ¨™ç±¤ç³»çµ±
  - å»ºç«‹æ¨™ç±¤ç®¡ç†
  - ç‚ºå®¢æˆ¶æ·»åŠ æ¨™ç±¤
  - ä¾æ¨™ç±¤ç¯©é¸å®¢æˆ¶
- [ ] å®¢æˆ¶å‚™è¨»åŠŸèƒ½
  - æ–°å¢/ç·¨è¼¯å®¢æˆ¶å‚™è¨»
  - å‚™è¨»æ­·å²è¨˜éŒ„
- [ ] å®¢æˆ¶åˆ†ç¾¤åŠŸèƒ½
  - ä¾æ¢ä»¶è‡ªå‹•åˆ†ç¾¤
  - è‡ªè¨‚åˆ†ç¾¤è¦å‰‡
- [ ] å®¢æˆ¶äº’å‹•è¨˜éŒ„
  - é¡¯ç¤ºå®Œæ•´äº’å‹•æ™‚é–“è»¸
  - å¿«é€ŸæŸ¥çœ‹é—œéµå°è©±

**è³‡æ–™åº«æ“´å±•**ï¼š
```sql
-- æ¨™ç±¤è¡¨
CREATE TABLE tags (
  id SERIAL PRIMARY KEY,
  name TEXT NOT NULL,
  color TEXT,
  created_at TIMESTAMP DEFAULT NOW()
);

-- å®¢æˆ¶æ¨™ç±¤é—œè¯è¡¨
CREATE TABLE customer_tags (
  customer_id INTEGER REFERENCES users(id),
  tag_id INTEGER REFERENCES tags(id),
  created_at TIMESTAMP DEFAULT NOW(),
  PRIMARY KEY (customer_id, tag_id)
);

-- å®¢æˆ¶å‚™è¨»è¡¨
CREATE TABLE customer_notes (
  id SERIAL PRIMARY KEY,
  customer_id INTEGER REFERENCES users(id),
  content TEXT NOT NULL,
  created_by TEXT,
  created_at TIMESTAMP DEFAULT NOW()
);
```

#### 3.3 é€²éšæœå°‹ï¼ˆ3 å¤©ï¼‰

**ä»»å‹™**ï¼š
- [ ] å¯¦ä½œå¾Œç«¯å…¨æ–‡æœå°‹
- [ ] å¯¦ä½œé€²éšç¯©é¸ï¼ˆæ—¥æœŸç¯„åœã€è¨Šæ¯é¡å‹ã€æ¨™ç±¤ï¼‰
- [ ] å¯¦ä½œæœå°‹æ­·å²è¨˜éŒ„
- [ ] å¯¦ä½œæœå°‹çµæœé«˜äº®

**Supabase å…¨æ–‡æœå°‹**ï¼š
```javascript
// ä½¿ç”¨ PostgreSQL å…¨æ–‡æœå°‹
const { data } = await supabase
  .from('messages')
  .select('*, user:users(*)')
  .textSearch('text_content', searchQuery, {
    type: 'websearch',
    config: 'simple'
  });
```

---

### éšæ®µ 4ï¼šè³‡æ–™åŒ¯å‡ºå’Œç³»çµ±è¨­å®šï¼ˆ1 é€±ï¼‰

#### 4.1 è³‡æ–™åŒ¯å‡ºåŠŸèƒ½ï¼ˆ3 å¤©ï¼‰

**ä»»å‹™**ï¼š
- [ ] å¯¦ä½œ CSV åŒ¯å‡ºï¼ˆå‰ç«¯ç”Ÿæˆï¼‰
- [ ] å¯¦ä½œ Excel åŒ¯å‡ºï¼ˆä½¿ç”¨ ExcelJSï¼‰
- [ ] å¯¦ä½œ PDF åŒ¯å‡ºï¼ˆä½¿ç”¨ jsPDFï¼‰
- [ ] å¯¦ä½œåœ–ç‰‡ ZIP ä¸‹è¼‰

**å‰ç«¯åŒ¯å‡ºç¯„ä¾‹**ï¼š
```javascript
// src/utils/exporters.js
import * as XLSX from 'xlsx';
import { saveAs } from 'file-saver';

export function exportToCSV(data, filename) {
  const csv = convertToCSV(data);
  const blob = new Blob(['\ufeff' + csv], { type: 'text/csv;charset=utf-8' });
  saveAs(blob, `${filename}.csv`);
}

export function exportToExcel(data, filename) {
  const ws = XLSX.utils.json_to_sheet(data);
  const wb = XLSX.utils.book_new();
  XLSX.utils.book_append_sheet(wb, ws, 'Sheet1');
  XLSX.writeFile(wb, `${filename}.xlsx`);
}
```

#### 4.2 ç³»çµ±è¨­å®šï¼ˆ2 å¤©ï¼‰

**ä»»å‹™**ï¼š
- [ ] å¯¦ä½œè¨­å®šé é¢
- [ ] ç³»çµ±é™åˆ¶è¨­å®šï¼ˆè¨Šæ¯/ç”¨æˆ¶ä¸Šé™ï¼‰
- [ ] åŒ¯å‡ºæ ¼å¼åå¥½è¨­å®š
- [ ] é€šçŸ¥è¨­å®š

---

### éšæ®µ 5ï¼šæ¸¬è©¦å’Œå„ªåŒ–ï¼ˆ1 é€±ï¼‰

#### 5.1 æ¸¬è©¦ï¼ˆ3 å¤©ï¼‰

**ä»»å‹™**ï¼š
- [ ] å–®å…ƒæ¸¬è©¦ï¼ˆVitestï¼‰
- [ ] å…ƒä»¶æ¸¬è©¦ï¼ˆVue Test Utilsï¼‰
- [ ] E2E æ¸¬è©¦ï¼ˆPlaywrightï¼‰
- [ ] æ•ˆèƒ½æ¸¬è©¦
- [ ] è¡Œå‹•è£ç½®æ¸¬è©¦

#### 5.2 å„ªåŒ–ï¼ˆ2 å¤©ï¼‰

**ä»»å‹™**ï¼š
- [ ] ç¨‹å¼ç¢¼åˆ†å‰²ï¼ˆCode Splittingï¼‰
- [ ] æ‡¶åŠ è¼‰ï¼ˆLazy Loadingï¼‰
- [ ] åœ–ç‰‡å„ªåŒ–
- [ ] å¿«å–ç­–ç•¥
- [ ] æ•ˆèƒ½ç›£æ§ï¼ˆLighthouseï¼‰

#### 5.3 æ–‡ä»¶ï¼ˆ2 å¤©ï¼‰

**ä»»å‹™**ï¼š
- [ ] æ’°å¯«ä½¿ç”¨è€…æ–‡ä»¶
- [ ] æ’°å¯«é–‹ç™¼è€…æ–‡ä»¶
- [ ] æ’°å¯«éƒ¨ç½²æ–‡ä»¶
- [ ] éŒ„è£½æ•™å­¸å½±ç‰‡

---

## 7. è³‡æ–™é·ç§»ç­–ç•¥

### 7.1 è³‡æ–™åº«é·ç§»

**å¥½æ¶ˆæ¯**ï¼šè³‡æ–™åº«çµæ§‹ç„¡éœ€è®Šæ›´ï¼

ç›®å‰çš„è³‡æ–™åº«çµæ§‹å·²ç¶“è¨­è¨ˆè‰¯å¥½ï¼Œå¯ä»¥ç›´æ¥æ²¿ç”¨ã€‚å”¯ä¸€éœ€è¦åšçš„æ˜¯ï¼š

**æ–°å¢ CRM ç›¸é—œè¡¨**ï¼š
```sql
-- æ¨™ç±¤è¡¨
CREATE TABLE tags (
  id SERIAL PRIMARY KEY,
  name TEXT NOT NULL UNIQUE,
  color TEXT DEFAULT '#3b82f6',
  description TEXT,
  created_at TIMESTAMP DEFAULT NOW()
);

-- å®¢æˆ¶æ¨™ç±¤é—œè¯è¡¨
CREATE TABLE customer_tags (
  id SERIAL PRIMARY KEY,
  customer_id INTEGER REFERENCES users(id) ON DELETE CASCADE,
  tag_id INTEGER REFERENCES tags(id) ON DELETE CASCADE,
  created_at TIMESTAMP DEFAULT NOW(),
  UNIQUE(customer_id, tag_id)
);

-- å®¢æˆ¶å‚™è¨»è¡¨
CREATE TABLE customer_notes (
  id SERIAL PRIMARY KEY,
  customer_id INTEGER REFERENCES users(id) ON DELETE CASCADE,
  content TEXT NOT NULL,
  created_by TEXT,
  created_at TIMESTAMP DEFAULT NOW(),
  updated_at TIMESTAMP DEFAULT NOW()
);

-- å®¢æˆ¶åˆ†ç¾¤è¡¨
CREATE TABLE customer_segments (
  id SERIAL PRIMARY KEY,
  name TEXT NOT NULL,
  description TEXT,
  conditions JSONB,
  created_at TIMESTAMP DEFAULT NOW()
);

-- å®¢æˆ¶åˆ†ç¾¤é—œè¯è¡¨
CREATE TABLE customer_segment_members (
  segment_id INTEGER REFERENCES customer_segments(id) ON DELETE CASCADE,
  customer_id INTEGER REFERENCES users(id) ON DELETE CASCADE,
  added_at TIMESTAMP DEFAULT NOW(),
  PRIMARY KEY (segment_id, customer_id)
);

-- ç´¢å¼•
CREATE INDEX idx_customer_tags_customer ON customer_tags(customer_id);
CREATE INDEX idx_customer_tags_tag ON customer_tags(tag_id);
CREATE INDEX idx_customer_notes_customer ON customer_notes(customer_id);
```

### 7.2 æª”æ¡ˆé·ç§»

**ç„¡éœ€é·ç§»**ï¼šSupabase Storage ç¹¼çºŒä½¿ç”¨ï¼Œç„¡éœ€è®Šæ›´ã€‚

### 7.3 ç’°å¢ƒè®Šæ•¸é·ç§»

**èˆŠç³»çµ± (.env)**ï¼š
```env
LINE_CHANNEL_ACCESS_TOKEN=...
LINE_CHANNEL_SECRET=...
SUPABASE_URL=...
SUPABASE_ANON_KEY=...
SUPABASE_SERVICE_KEY=...
MAX_MESSAGES=1000
MAX_USERS=100
```

**æ–°ç³»çµ±**ï¼š

**å‰ç«¯ (.env)**ï¼š
```env
VITE_SUPABASE_URL=...
VITE_SUPABASE_ANON_KEY=...
```

**Serverless Function (Vercel Environment Variables)**ï¼š
```env
LINE_CHANNEL_ACCESS_TOKEN=...
LINE_CHANNEL_SECRET=...
SUPABASE_URL=...
SUPABASE_SERVICE_KEY=...
MAX_MESSAGES=1000
MAX_USERS=100
```

---

## 8. åŠŸèƒ½èª¿æ•´å»ºè­°

### 8.1 ä¿ç•™çš„åŠŸèƒ½

âœ… **æ ¸å¿ƒåŠŸèƒ½**ï¼ˆå¿…é ˆä¿ç•™ï¼‰ï¼š
- LINE Webhook è¨Šæ¯æ¥æ”¶
- ç”¨æˆ¶è³‡æ–™è‡ªå‹•æ”¶é›†ï¼ˆProfile APIï¼‰
- ç¾¤çµ„åç¨±è‡ªå‹•è¨˜éŒ„ï¼ˆBot APIï¼‰
- è¨Šæ¯åˆ—è¡¨æŸ¥è©¢
- æª”æ¡ˆå„²å­˜å’Œä¸‹è¼‰
- å®¢æˆ¶å§“åç®¡ç†
- è³‡æ–™åŒ¯å‡º

### 8.2 å¼·åŒ–çš„åŠŸèƒ½

ğŸ“ˆ **CRM åŠŸèƒ½å¼·åŒ–**ï¼š

1. **å®¢æˆ¶ 360Â° è¦–åœ–**
   - å®¢æˆ¶åŸºæœ¬è³‡æ–™
   - å®Œæ•´äº’å‹•æ­·å²
   - è¨Šæ¯çµ±è¨ˆ
   - è¡Œç‚ºåˆ†æ
   - æ¨™ç±¤å’Œå‚™è¨»

2. **å®¢æˆ¶åˆ†ç¾¤å’Œæ¨™ç±¤**
   - è‡ªè¨‚æ¨™ç±¤ç³»çµ±
   - ä¾æ¢ä»¶è‡ªå‹•åˆ†ç¾¤
   - æ‰¹é‡æ“ä½œ

3. **çµ±è¨ˆåˆ†æå„€è¡¨æ¿**
   - è¨Šæ¯è¶¨å‹¢åœ–
   - å®¢æˆ¶æˆé•·åœ–
   - æ´»èºåº¦åˆ†æ
   - è¨Šæ¯é¡å‹åˆ†å¸ƒ

4. **é€²éšæœå°‹**
   - å…¨æ–‡æœå°‹
   - å¤šæ¢ä»¶ç¯©é¸
   - æœå°‹æ­·å²

5. **åœ˜éšŠå”ä½œ**ï¼ˆæœªä¾†ï¼‰
   - å¤šç”¨æˆ¶ç™»å…¥
   - æ¬Šé™ç®¡ç†
   - å®¢æˆ¶åˆ†é…
   - æ“ä½œæ—¥èªŒ

### 8.3 ç°¡åŒ–çš„åŠŸèƒ½

âš ï¸ **å¯ä»¥ç°¡åŒ–çš„åŠŸèƒ½**ï¼š

1. **è³‡æ–™åŒ¯å‡º**
   - ä¿ç•™ï¼šCSV, Excel
   - ç§»é™¤ï¼šPDF å ±å‘Šï¼ˆç”¨è™•ä¸å¤§ï¼‰
   - æ”¹å–„ï¼šå‰ç«¯ç›´æ¥ç”Ÿæˆï¼Œç„¡éœ€å¾Œç«¯ API

2. **ç³»çµ±é™åˆ¶æ©Ÿåˆ¶**
   - ç°¡åŒ–ç‚ºå‰ç«¯æé†’
   - ä¸å¼·åˆ¶é™åˆ¶ï¼ˆç”±ç”¨æˆ¶æ±ºå®šï¼‰

### 8.4 æ–°å¢çš„åŠŸèƒ½

ğŸ†• **å»ºè­°æ–°å¢**ï¼š

1. **å³æ™‚é€šçŸ¥**
   - æ–°è¨Šæ¯æ¡Œé¢é€šçŸ¥
   - é‡è¦å®¢æˆ¶æé†’
   - ç³»çµ±é€šçŸ¥

2. **å¿«æ·å›è¦†**ï¼ˆæœªä¾†ï¼‰
   - å¸¸ç”¨å›è¦†æ¨¡æ¿
   - ä¸€éµç™¼é€

3. **å®¢æˆ¶ç•«åƒ**
   - è‡ªå‹•æ¨™è¨˜å®¢æˆ¶ç‰¹å¾µ
   - AI åˆ†æå®¢æˆ¶æ„åœ–

---

## 9. é¢¨éšªè©•ä¼°

### 9.1 æŠ€è¡“é¢¨éšª

| é¢¨éšª | å½±éŸ¿ | å¯èƒ½æ€§ | æ‡‰å°ç­–ç•¥ |
|-----|------|--------|---------|
| Vue3 å­¸ç¿’æ›²ç·š | ä¸­ | ä¸­ | - æä¾›åŸ¹è¨“å’Œæ–‡ä»¶<br>- ä½¿ç”¨ Composition API ç¯„ä¾‹ |
| Serverless Function å†·å•Ÿå‹• | ä½ | ä¸­ | - Vercel Pro ç„¡å†·å•Ÿå‹•<br>- Keep-alive æ©Ÿåˆ¶ |
| Supabase å…è²»æ–¹æ¡ˆé™åˆ¶ | é«˜ | ä¸­ | - ç›£æ§ä½¿ç”¨é‡<br>- æº–å‚™å‡ç´šæ–¹æ¡ˆ |
| è³‡æ–™é·ç§»å¤±æ•— | é«˜ | ä½ | - å®Œæ•´å‚™ä»½<br>- æ¸¬è©¦é·ç§»è…³æœ¬ |
| Realtime é€£ç·šä¸ç©©å®š | ä¸­ | ä½ | - å¯¦ä½œé‡é€£æ©Ÿåˆ¶<br>- Fallback åˆ°è¼ªè©¢ |

### 9.2 æ¥­å‹™é¢¨éšª

| é¢¨éšª | å½±éŸ¿ | å¯èƒ½æ€§ | æ‡‰å°ç­–ç•¥ |
|-----|------|--------|---------|
| ç”¨æˆ¶ä¸é©æ‡‰æ–°ä»‹é¢ | ä¸­ | ä¸­ | - æä¾›æ–°èˆŠç‰ˆæœ¬åˆ‡æ›<br>- æ”¶é›†ç”¨æˆ¶å›é¥‹ |
| åŠŸèƒ½ç¼ºå¤± | é«˜ | ä½ | - å®Œæ•´åŠŸèƒ½æ¸…å–®æª¢æŸ¥<br>- Beta æ¸¬è©¦ |
| æ•ˆèƒ½ä¸‹é™ | é«˜ | ä½ | - æ•ˆèƒ½æ¸¬è©¦<br>- å„ªåŒ–é—œéµè·¯å¾‘ |

### 9.3 å°ˆæ¡ˆé¢¨éšª

| é¢¨éšª | å½±éŸ¿ | å¯èƒ½æ€§ | æ‡‰å°ç­–ç•¥ |
|-----|------|--------|---------|
| é–‹ç™¼æ™‚é–“è¶…å‡ºé æœŸ | ä¸­ | ä¸­ | - æ¡ç”¨ MVP æ–¹æ³•<br>- åˆ†éšæ®µäº¤ä»˜ |
| äººåŠ›ä¸è¶³ | é«˜ | ä¸­ | - å¤–åŒ…éƒ¨åˆ†é–‹ç™¼<br>- èª¿æ•´æ™‚ç¨‹ |
| éœ€æ±‚è®Šæ›´ | ä¸­ | é«˜ | - æ•æ·é–‹ç™¼<br>- å¿«é€Ÿè¿­ä»£ |

---

## 10. æ™‚ç¨‹è¦åŠƒ

### 10.1 ç¸½æ™‚ç¨‹ä¼°ç®—

**ç¸½æ™‚é•·**ï¼š6-8 é€±ï¼ˆ1.5-2 å€‹æœˆï¼‰

**éšæ®µåˆ†å¸ƒ**ï¼š
```
æº–å‚™éšæ®µï¼š    1 é€±   â–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘
æ ¸å¿ƒåŠŸèƒ½ï¼š  2-3 é€±   â–‘â–‘â–‘â–‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘
Webhookï¼š     1 é€±   â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘
é€²éšåŠŸèƒ½ï¼š    2 é€±   â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ
æ¸¬è©¦å„ªåŒ–ï¼š    1 é€±   â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–ˆâ–ˆâ–ˆâ–ˆ
```

### 10.2 é‡Œç¨‹ç¢‘

**M1 - å°ˆæ¡ˆå•Ÿå‹•ï¼ˆç¬¬ 1 é€±ï¼‰**
- âœ… æŠ€è¡“é¸å‹ç¢ºå®š
- âœ… å°ˆæ¡ˆç’°å¢ƒå»ºç«‹
- âœ… é–‹ç™¼ç’°å¢ƒé…ç½®å®Œæˆ

**M2 - Alpha ç‰ˆæœ¬ï¼ˆç¬¬ 3-4 é€±ï¼‰**
- âœ… è¨Šæ¯åˆ—è¡¨åŠŸèƒ½å®Œæˆ
- âœ… å®¢æˆ¶ç®¡ç†åŠŸèƒ½å®Œæˆ
- âœ… åŸºæœ¬æŸ¥è©¢åŠŸèƒ½å¯ç”¨
- ğŸ“ å…§éƒ¨æ¸¬è©¦é–‹å§‹

**M3 - Beta ç‰ˆæœ¬ï¼ˆç¬¬ 5-6 é€±ï¼‰**
- âœ… Webhook é·ç§»å®Œæˆ
- âœ… CRM åŠŸèƒ½å®Œæˆ
- âœ… çµ±è¨ˆå„€è¡¨æ¿å®Œæˆ
- ğŸ“ ç”¨æˆ¶ Beta æ¸¬è©¦é–‹å§‹

**M4 - æ­£å¼ä¸Šç·šï¼ˆç¬¬ 7-8 é€±ï¼‰**
- âœ… æ‰€æœ‰åŠŸèƒ½æ¸¬è©¦å®Œæˆ
- âœ… æ•ˆèƒ½å„ªåŒ–å®Œæˆ
- âœ… æ–‡ä»¶å®Œæˆ
- ğŸš€ æ­£å¼ä¸Šç·š

### 10.3 é—œéµæ±ºç­–é»

**æ±ºç­–é» 1ï¼ˆç¬¬ 2 é€±ï¼‰**ï¼š
- æª¢æŸ¥æ ¸å¿ƒåŠŸèƒ½é–‹ç™¼é€²åº¦
- æ±ºå®šæ˜¯å¦éœ€è¦èª¿æ•´æ™‚ç¨‹

**æ±ºç­–é» 2ï¼ˆç¬¬ 4 é€±ï¼‰**ï¼š
- Alpha ç‰ˆæœ¬æ¸¬è©¦çµæœ
- æ±ºå®šæ˜¯å¦ç¹¼çºŒæˆ–å›æº¯

**æ±ºç­–é» 3ï¼ˆç¬¬ 6 é€±ï¼‰**ï¼š
- Beta ç‰ˆæœ¬ç”¨æˆ¶å›é¥‹
- æ±ºå®šä¸Šç·šæ™‚é–“

---

## 11. æˆåŠŸæ¨™æº–

### 11.1 æŠ€è¡“æŒ‡æ¨™

- [ ] é é¢è¼‰å…¥æ™‚é–“ < 2 ç§’
- [ ] API éŸ¿æ‡‰æ™‚é–“ < 500ms
- [ ] Lighthouse åˆ†æ•¸ > 90
- [ ] ç„¡åš´é‡ Bug
- [ ] æ¸¬è©¦è¦†è“‹ç‡ > 70%

### 11.2 åŠŸèƒ½å®Œæ•´æ€§

- [ ] æ‰€æœ‰èˆŠåŠŸèƒ½æ­£å¸¸é‹ä½œ
- [ ] æ–° CRM åŠŸèƒ½å¯ç”¨
- [ ] è³‡æ–™å®Œæ•´é·ç§»
- [ ] ç„¡è³‡æ–™éºå¤±

### 11.3 ç”¨æˆ¶é«”é©—

- [ ] ç”¨æˆ¶æ»¿æ„åº¦ > 4.0/5.0
- [ ] ä»‹é¢å‹å–„åº¦ > 4.0/5.0
- [ ] å­¸ç¿’æˆæœ¬å¯æ¥å—
- [ ] ç„¡ç”¨æˆ¶é‡å¤§æŠ±æ€¨

---

## 12. ä¸‹ä¸€æ­¥è¡Œå‹•

### 12.1 ç«‹å³è¡Œå‹•ï¼ˆæœ¬é€±å…§ï¼‰

1. **ç¢ºèªé‡æ§‹æ–¹æ¡ˆ**
   - [ ] ç¢ºèªæ¡ç”¨ã€Œæ–¹æ¡ˆ Bï¼šä¸¦è¡Œé–‹ç™¼ã€é€æ­¥é·ç§»ã€
   - [ ] ç¢ºèªæŠ€è¡“æ£§é¸æ“‡
   - [ ] ç¢ºèªæ™‚ç¨‹è¦åŠƒ

2. **å»ºç«‹æ–°å°ˆæ¡ˆ**
   - [ ] åœ¨ GitHub å»ºç«‹æ–° Repository
   - [ ] è¨­å®šå°ˆæ¡ˆçµæ§‹
   - [ ] åˆå§‹åŒ– Vue3 + Vite å°ˆæ¡ˆ
   - [ ] å®‰è£å¿…è¦ä¾è³´

3. **ç’°å¢ƒæº–å‚™**
   - [ ] é…ç½® Supabase å®¢æˆ¶ç«¯
   - [ ] è¨­å®š TailwindCSS
   - [ ] è¨­å®š Element Plus
   - [ ] é…ç½® ESLint + Prettier

### 12.2 ç¬¬ä¸€é€±ç›®æ¨™

- [ ] å®Œæˆå°ˆæ¡ˆéª¨æ¶
- [ ] å»ºç«‹ Layout å…ƒä»¶
- [ ] å¯¦ä½œåŸºç¤è·¯ç”±
- [ ] å¯¦ä½œ Supabase é€£ç·š
- [ ] å®Œæˆç¬¬ä¸€å€‹åŠŸèƒ½åŸå‹ï¼ˆè¨Šæ¯åˆ—è¡¨ï¼‰

### 12.3 éœ€è¦æ±ºå®šçš„äº‹é …

1. **UI æ¡†æ¶é¸æ“‡**
   - é¸é … Aï¼šElement Plusï¼ˆæ¨è–¦ï¼Œå…ƒä»¶è±å¯Œï¼‰
   - é¸é … Bï¼šAnt Design Vueï¼ˆç¾è§€ï¼Œä½†è¼ƒé‡ï¼‰
   - é¸é … Cï¼šNaive UIï¼ˆè¼•é‡ï¼Œä½†å…ƒä»¶è¼ƒå°‘ï¼‰

2. **éƒ¨ç½²å¹³å°é¸æ“‡**
   - é¸é … Aï¼šVercelï¼ˆæ¨è–¦ï¼ŒServerless Functions å¼·å¤§ï¼‰
   - é¸é … Bï¼šNetlifyï¼ˆç°¡å–®æ˜“ç”¨ï¼‰

3. **åœ–è¡¨åº«é¸æ“‡**
   - é¸é … Aï¼šEChartsï¼ˆåŠŸèƒ½å¼·å¤§ï¼Œæª”æ¡ˆè¼ƒå¤§ï¼‰
   - é¸é … Bï¼šChart.jsï¼ˆè¼•é‡ï¼ŒåŠŸèƒ½é©ä¸­ï¼‰

4. **æ˜¯å¦éœ€è¦ TypeScript**
   - å„ªé»ï¼šé¡å‹å®‰å…¨ï¼ŒIDE æ”¯æ´å¥½
   - ç¼ºé»ï¼šå­¸ç¿’æ›²ç·šï¼Œé–‹ç™¼é€Ÿåº¦ç¨æ…¢

---

## 13. è³‡æºå’Œåƒè€ƒ

### 13.1 æŠ€è¡“æ–‡ä»¶

- [Vue 3 å®˜æ–¹æ–‡ä»¶](https://vuejs.org/)
- [Supabase æ–‡ä»¶](https://supabase.com/docs)
- [Element Plus æ–‡ä»¶](https://element-plus.org/)
- [Vite æ–‡ä»¶](https://vitejs.dev/)
- [Vercel Functions æ–‡ä»¶](https://vercel.com/docs/functions)

### 13.2 ç¯„ä¾‹å°ˆæ¡ˆ

- [Vue 3 + Supabase Starter](https://github.com/supabase/supabase/tree/master/examples/user-management/vue3-user-management)
- [Vue 3 Admin Template](https://github.com/vbenjs/vue-vben-admin)

### 13.3 å­¸ç¿’è³‡æº

- [Vue 3 Composition API æ•™å­¸](https://vuejs.org/guide/extras/composition-api-faq.html)
- [Supabase æ•™å­¸å½±ç‰‡](https://www.youtube.com/@Supabase)

---

## ç¸½çµ

é€™æ˜¯ä¸€å€‹é›„å¿ƒå‹ƒå‹ƒä½†å¯è¡Œçš„é‡æ§‹è¨ˆåŠƒã€‚é—œéµæˆåŠŸå› ç´ ï¼š

1. âœ… **æ¡ç”¨æ¼¸é€²å¼é‡æ§‹**ï¼šé™ä½é¢¨éšªï¼Œå¿«é€Ÿé©—è­‰
2. âœ… **ä¿ç•™æ ¸å¿ƒè³‡æ–™çµæ§‹**ï¼šæ¸›å°‘è³‡æ–™é·ç§»è¤‡é›œåº¦
3. âœ… **ä½¿ç”¨ç¾ä»£åŒ–æŠ€è¡“æ£§**ï¼šæå‡é–‹ç™¼æ•ˆç‡å’Œç”¨æˆ¶é«”é©—
4. âœ… **åˆ†éšæ®µäº¤ä»˜**ï¼šæŒçºŒç²å¾—å›é¥‹ï¼Œå¿«é€Ÿèª¿æ•´
5. âœ… **å……è¶³çš„æ¸¬è©¦**ï¼šç¢ºä¿å“è³ª

**é æœŸæ•ˆç›Š**ï¼š
- ğŸš€ æ›´å¿«çš„è¼‰å…¥é€Ÿåº¦
- ğŸ“± æ›´å¥½çš„ç”¨æˆ¶é«”é©—
- ğŸ’° æ›´ä½çš„ç‡Ÿé‹æˆæœ¬
- ğŸ”§ æ›´å®¹æ˜“ç¶­è­·
- ğŸ“ˆ æ›´å¼·å¤§çš„ CRM åŠŸèƒ½

**ä¸‹ä¸€æ­¥**ï¼šç¢ºèªæ–¹æ¡ˆå¾Œï¼Œç«‹å³å•Ÿå‹•ã€Œéšæ®µ 0ï¼šæº–å‚™éšæ®µã€ï¼

---

**æ–‡ä»¶çµæŸ**
